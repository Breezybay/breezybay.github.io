<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Unity 基于图层的非破坏性（Non-Destructive Layer-Based ）地形工具</title>
      <link href="/2020/05/01/20200501-NonDestructive_LayerBased_Terrain/"/>
      <url>/2020/05/01/20200501-NonDestructive_LayerBased_Terrain/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/ta/LayeredTerrain.gif" alt></p><h3 id="定义-What"><a href="#定义-What" class="headerlink" title="定义 (What)"></a>定义 (What)</h3><p>A non-destructive workflow means you can go backwards at any time.<br>一个非破坏性的工作流意味着你可以在任何时候回退。</p><p>A good analogy is layers in photoshop - we write information into these layers instead of the terrain, and then combine those layers of data into one final output.<br>一个很好的类比是Photoshop里的图层 - 我们把信息写入这些图层而不是地形，然后合并这些图层的数据到最终输出。</p><h3 id="原因-Why"><a href="#原因-Why" class="headerlink" title="原因 (Why)"></a>原因 (Why)</h3><p>使用基于图层的工作流提供可以回退，融合，覆盖的操作。增加创作力，提升工作效率。</p><h3 id="方案-How"><a href="#方案-How" class="headerlink" title="方案 (How)"></a>方案 (How)</h3><p>参考Unreal <a href="http://confluence.wd.com/pages/viewpage.action?pageId=23155996" target="_blank" rel="noopener">非破坏性地形图层和样条 Non-Destructive Landscape Layers and Splines</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Unity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Terrain Tiling</title>
      <link href="/2020/04/18/20200418-TerrainTiling/"/>
      <url>/2020/04/18/20200418-TerrainTiling/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th style="text-align:center">Unity Built-In</th><th style="text-align:center"></th><th style="text-align:center">Micro-Macro Variations with Noise</th></tr></thead><tbody><tr><td style="text-align:center"><img src="/img/ta/TerrainTiling1.jpg" alt></td><td style="text-align:center">-</td><td style="text-align:center"><img src="/img/ta/TerrainTiling2.jpg" alt></td></tr></tbody></table><p>在野外需要大面积绘制地形的情况下，地形渲染消耗 + 0.1~0.2ms @750Ti</p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Unity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Simplygon HLOD for Unity</title>
      <link href="/2020/03/29/20200329-Simplygon/"/>
      <url>/2020/03/29/20200329-Simplygon/</url>
      
        <content type="html"><![CDATA[<h3 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h3><p><a href="https://simplygon.com/Downloads" target="_blank" rel="noopener">Simplygon SDK</a>，Simplygon SDK 需要 Win10。<br>Unity中导入Simplygon Plugin，需要Unity版本5.5以上，目前Simplygon官方不维护Unity，需要自己处理。</p><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>合并方法可以参考Unity官方的AutoLOD：<a href="https://github.com/Unity-Technologies/AutoLOD/blob/master/Scripts/Editor/MeshSimplifiers/SimplygonMeshSimplifier.cs" target="_blank" rel="noopener">SimplygonMeshSimplifier</a></p><p>使用RemeshingProcessor；<br>在RemeshingSettings中，设置OnScreenSize，HardEdgeAngleInRadians；<br>在MappingImageSettings中，设置TexCoordGeneratorType，UseFullRetexturing，Width，Height；</p><p>执行过程中，Simplygon Plugin在某些情况下会报错（比如模型Material数量少于SubMesh数量），可以定位报错位置并使用<a href="https://github.com/0xd4d/dnSpy" target="_blank" rel="noopener">dnSpy</a>对其进行反编译后修复。</p><p>生成Simplygon资源过程中的性能瓶颈主要在于从Unity上传资源到Simplygon及合并后的资源Download到Unity。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Unity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ComputeShader Noise</title>
      <link href="/2019/10/06/20191006-TerrainDetailUtil/"/>
      <url>/2019/10/06/20191006-TerrainDetailUtil/</url>
      
        <content type="html"><![CDATA[<p>可以用 <a href="https://github.com/keijiro" target="_blank" rel="noopener">Keijiro Takahashi</a>的<a href="https://github.com/keijiro/NoiseShader" target="_blank" rel="noopener">Noise Shader Library for Unity</a></p><h4 id="ComputeShader"><a href="#ComputeShader" class="headerlink" title="ComputeShader"></a>ComputeShader</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mask = Perlin( xy / NoiseScale * Resolution )</span><br><span class="line"></span><br><span class="line">Final[id] = min( Final[id] * mask * Offset, Cap);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Unity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Resize Textures with MSPaint Algorithm via Postprocess</title>
      <link href="/2019/09/15/20190915-PostprocessMSPaint/"/>
      <url>/2019/09/15/20190915-PostprocessMSPaint/</url>
      
        <content type="html"><![CDATA[<h3 id="Example-2048-gt-1024"><a href="#Example-2048-gt-1024" class="headerlink" title="Example (2048 -&gt; 1024)"></a>Example (2048 -&gt; 1024)</h3><table><thead><tr><th style="text-align:center">Unity Built-In (Unity自带)</th><th style="text-align:center"></th><th style="text-align:center">MSPaint Kernel（后处理加入画图锐化）</th></tr></thead><tbody><tr><td style="text-align:center"><img src="/img/graphics/MSPaint_UnityBuiltIn.jpg" alt></td><td style="text-align:center">-</td><td style="text-align:center"><img src="/img/graphics/MSPaint_MSPaint.jpg" alt></td></tr></tbody></table><p>MSPaint provides better resize results as stated in <a href="https://computergraphics.stackexchange.com/questions/2246/which-interpolation-algorithm-does-ms-paint-on-windows-7-use-for-image-rescaling" target="_blank" rel="noopener">Which interpolation algorithm does MS Paint on Windows 7 use for image rescaling?</a></p><a id="more"></a><p>Source: <a href="https://stackoverflow.com/a/48855445" target="_blank" rel="noopener">skenera’s answer</a></p><p>MSPaint uses bilinear interpolation then sharpens the image with a convolution kernel:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0.0, -0.125, 0.0</span><br><span class="line"></span><br><span class="line">-0.125, 1.5, -0.125</span><br><span class="line"></span><br><span class="line">0.0, -0.125, 0.0</span><br></pre></td></tr></table></figure></p><p>For our current project we need to batch resize using this algorithm.</p><h3 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h3><p><a href="https://docs.unity3d.com/ScriptReference/AssetPostprocessor.OnPostprocessTexture.html" target="_blank" rel="noopener">AssetPostprocessor.OnPostprocessTexture(Texture2D)</a></p><p>The actual kernel used:</p><p>new float[3]{ 0.0f, -0.25f, 0.0f },<br>new float[3]{ -0.25f, 2f, -0.25f },<br>new float[3]{ 0.0f, -0.25f, 0.0f }</p><h3 id="ImageMagick"><a href="#ImageMagick" class="headerlink" title="ImageMagick"></a>ImageMagick</h3><p>An alternative approach would be compressing source texture files with ImageMagick.<br>However it is only useful in some cases and is not recommended, compare to postprocess approach.</p><p>ImageMagick Command:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">magick image.png -scale 512 -morphology Convolve &quot;3x3: 0.0, -0.125, 0.0 -0.125, 1.5, -0.125 0.0, -0.125, 0.0&quot; image_resized.png</span><br></pre></td></tr></table></figure></p><p>Download <a href="https://imagemagick.org/index.php" target="_blank" rel="noopener">ImageMagick</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Texel Density View Mode</title>
      <link href="/2019/08/18/20190818-TexelDensity/"/>
      <url>/2019/08/18/20190818-TexelDensity/</url>
      
        <content type="html"><![CDATA[<p><a href="https://80.lv/articles/textel-density-tutorial/" target="_blank" rel="noopener">Figuring out Textel Density - 80 Level</a></p><h2 id="Texel-Density-View-Mode"><a href="#Texel-Density-View-Mode" class="headerlink" title="Texel Density View Mode"></a>Texel Density View Mode</h2><table><thead><tr><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center"><img src="/img/graphics/TexelDensityViewMode1.jpg" alt></td><td style="text-align:center">-</td><td style="text-align:center"><img src="/img/graphics/TexelDensityViewMode2.jpg" alt></td></tr></tbody></table><a id="more"></a><h2 id="关于TD"><a href="#关于TD" class="headerlink" title="关于TD"></a>关于TD</h2><h3 id="Texel-Density-Mesh（UV）上每单位的像素数"><a href="#Texel-Density-Mesh（UV）上每单位的像素数" class="headerlink" title="Texel Density: Mesh（UV）上每单位的像素数"></a>Texel Density: Mesh（UV）上每单位的像素数</h3><p>翻译：</p><ul><li>Texel密度（Autodesk, MODO）</li><li>纹理密度</li><li>像素密度（Valve XSI）</li><li>贴图密度（Unreal UDK）</li><li>纹素密度（《游戏引擎架构》中英词汇索引表）</li></ul><p>简称<strong>TD</strong></p><p>Pixel：屏幕上的最小单位<br>Texel：贴图上的最小单位<br>一个Pixel上有多个texel（缩小）<br>一个texel覆盖多个Pixel（放大）</p><p>正确的密度: 同类素材有一致的TD</p><h3 id="最优做法"><a href="#最优做法" class="headerlink" title="最优做法"></a>最优做法</h3><p>确定游戏类型/环境（第一人称视角，第三人称视角，侧视相机视角等）</p><p>素材分类：可以出现在玩家面前的，背景素材，远景</p><p>通过一些测试确定各个分类的最佳TD</p><p>确定在模型UV上执行这些TD的方式</p><p>确保各个分类内的TD始终保持一致</p><h3 id="如何确定游戏的TD"><a href="#如何确定游戏的TD" class="headerlink" title="如何确定游戏的TD"></a>如何确定游戏的TD</h3><p>有两个主要因素决定贴图大小：</p><ul><li>物体在屏幕上的大小</li><li>内存/显存预算</li></ul><p>理想状态下我们希望Texel和屏幕Pixel尽量一致，<br>但现实中我们只能尽力做到接近。</p><h5 id="第一人称视角-1024-px-m"><a href="#第一人称视角-1024-px-m" class="headerlink" title="第一人称视角 (1024 px/m)"></a>第一人称视角 (1024 px/m)</h5><p>通常TD较高，武器、手有更高TD</p><h5 id="第三人称视角-512-px-m"><a href="#第三人称视角-512-px-m" class="headerlink" title="第三人称视角 (512 px/m)"></a>第三人称视角 (512 px/m)</h5><p>通常不会很接近环境物体，而距离角色较近，所以环境一般为512px每米，而角色略高</p><h5 id="战略视角-128-256-px-m"><a href="#战略视角-128-256-px-m" class="headerlink" title="战略视角 (128-256 px/m)"></a>战略视角 (128-256 px/m)</h5><p>战略视角：总是距离较远，所以不需要高密度</p><h5 id="例外"><a href="#例外" class="headerlink" title="例外"></a>例外</h5><ul><li>TP角色和FP武器离相机较近，TD可以比环境高</li><li>通常角色的脸有相对高的TD，因为玩家爱看脸</li><li>不容易接近的地方可以有较低TD（天空盒，背景，车底部……）</li></ul><h3 id="素材分类"><a href="#素材分类" class="headerlink" title="素材分类"></a>素材分类</h3><p>例如，环境可以分为三类：</p><ul><li>近景/可玩区</li><li>中景/远处物体</li><li>背景物体</li></ul><h3 id="制作"><a href="#制作" class="headerlink" title="制作"></a>制作</h3><p>Maya，Max等都有相应的成熟工具</p><h2 id="Geometry-Shader"><a href="#Geometry-Shader" class="headerlink" title="Geometry Shader"></a>Geometry Shader</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">geom</span><span class="params">(triangle v2g input[<span class="number">3</span>], inout TriangleStream&lt;g2f&gt; triStream)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">... </span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算三角面在世界空间面积</span></span><br><span class="line"><span class="keyword">float</span> wArea = <span class="built_in">abs</span>(length(cross(abw, acw)));</span><br><span class="line"></span><br><span class="line">... </span><br><span class="line"></span><br><span class="line"><span class="comment">// 像素数</span></span><br><span class="line"><span class="keyword">float</span> texArea = _MainTex_TexelSize.z * _MainTex_TexelSize.w;</span><br><span class="line"></span><br><span class="line"><span class="comment">// UV面积</span></span><br><span class="line"><span class="keyword">float</span> uvArea = <span class="built_in">abs</span>(length(cross(ab, ac)));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 三角形UV上的像素数</span></span><br><span class="line"><span class="keyword">float</span> uvPixels = texArea * uvArea;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 得到TD</span></span><br><span class="line"><span class="keyword">float</span> td = <span class="built_in">sqrt</span>(uvPixels / wArea);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 进行着色</span></span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PBR 贴图制作准则</title>
      <link href="/2019/08/17/20190817-PBRTextureGuideline/"/>
      <url>/2019/08/17/20190817-PBRTextureGuideline/</url>
      
        <content type="html"><![CDATA[<!-- ![](https://cdn.allegorithmic.com/images/academy/02bad626-27f5-4606-9908-473d67f816b8) --><h2 id="Metal-Roughness-Workflow-总结"><a href="#Metal-Roughness-Workflow-总结" class="headerlink" title="Metal / Roughness Workflow 总结"></a>Metal / Roughness Workflow 总结</h2><h4 id="纯金属-Metallic-gt-235"><a href="#纯金属-Metallic-gt-235" class="headerlink" title="纯金属  (Metallic &gt; 235)"></a>纯金属  (Metallic &gt; 235)</h4><ul><li>BaseColor上的值是金属的反射值，应当有 70-100%，或者说 180-255 sRGB</li><li>如果你得到某个金属素材，发现它的Base Color很黑，它可能是Specular/Glossiness工作流<br>hexo<h4 id="介电质-绝缘体："><a href="#介电质-绝缘体：" class="headerlink" title="介电质/绝缘体："></a>介电质/绝缘体：</h4></li><li>BaseColor暗部<strong>不应低于30-50 sRGB</strong>, 亮部<strong>不应高于 240 sRGB</strong></li></ul><p>符合PBR规则可以使素材<strong>在任何光照条件下都有合理的表现</strong></p><ul><li>注意,不等于不符合规则的贴图一定看起来不好（在特定光照下有可能看起也合理）</li></ul><p>根据以上原则，制作一个批量排查工具<br><img src="/img/graphics/pbrCheck.jpg" alt></p><a id="more"></a><p>Substance Painter 用PBR检查工具: <a href="https://share.substance3d.com/libraries/824The" target="_blank" rel="noopener">PBR Validate</a><br><img src="https://share.substance3d.com/libraries/824The" alt></p><p>Substance Disigner 可以使用 PBR Metal/Roughness Validate Node<br>位置在Material Filters &gt; PBR Utilities<br><img src="https://cdn.allegorithmic.com/images/academy/bb52362f-6370-4f89-a2f4-633f59868c90" alt></p><p>Source: <a href="https://academy.substance3d.com/courses/the-pbr-guide-part-2" target="_blank" rel="noopener">Practical Guidelines For Creating PBR Textures</a><br>官方中文版：<a href="https://academy.substance3d.com/courses/the-pbr-guide-part2-zh" target="_blank" rel="noopener">创建PBR纹理实用指南</a><br><!--Two most common workflows, which are metal/roughness and specular/glossiness![](https://cdn.allegorithmic.com/images/academy/5fc12cd8-9467-4062-b609-507788d0cbc3)--></p><h2 id="Metal-Roughness-Workflow"><a href="#Metal-Roughness-Workflow" class="headerlink" title="Metal / Roughness Workflow"></a>Metal / Roughness Workflow</h2><h3 id="Dielectric-介电质-绝缘体-F0"><a href="#Dielectric-介电质-绝缘体-F0" class="headerlink" title="Dielectric (介电质/绝缘体) F0"></a>Dielectric (介电质/绝缘体) F0</h3><p>普通绝缘体的 <em>F0</em> 通常设置为 0.04 (linear) 4% 反射。在金属度/粗糙度工作流中，该数值是hardcode在Shader中的。<br>某些金/粗实现中，比如 <em>Substance toolset</em> 和 <em>Unreal Engine 4</em>，提供了Specular控制，使美术可以对绝缘体的 <em>F0</em> 常量进行改变。在Substance中，该输出被标记为 “specularLevel” 并且由一个 texture sampler 提供给shader。如下图，它提供了0.0-0.08的范围。该范围在shader中被映射到0.0～1.0，其中 0.5 对应 4% 反射率。</p><p><img src="https://cdn.allegorithmic.com/images/academy/c16e1e22-42b2-4f5a-af0d-f28b080d325f" alt></p><!--more--><h3 id="基础色-Base-Color-RGB-sRGB"><a href="#基础色-Base-Color-RGB-sRGB" class="headerlink" title="基础色 Base Color (RGB - sRGB)"></a>基础色 Base Color (RGB - sRGB)</h3><p><img src="https://cdn.allegorithmic.com/images/academy/21d2a547-9f5b-4ab2-96b3-deedfd67815f" alt></p><p>Base Color是一张RGB贴图，可以有两种信息：</p><ul><li>绝缘体的漫反射颜色(diffuse reflected color)</li><li>金属反射值</li></ul><p>颜色代表了绝缘体反射的波长，而当一块区域是金属时，金属反射值生效</p><h4 id="制作准则"><a href="#制作准则" class="headerlink" title="制作准则"></a><em>制作准则</em></h4><p>基础色(Base Color)可以被想成一张在色调上很”平”的图。就是说，它的对比度比传统diffuse贴图要低。在这张图上不建议出现过亮或过暗的地方。物体在色调上会比我们通常印象中的要更明亮。</p><p>就亮度范围来说，我们基本上指绝缘体。在下图中，你可以看到脏迹的数值低于正确亮度范围。对暗部来说，<strong>不应低于30-50 sRGB</strong>。暗部数值宽松的说应该大于30，严格地说大于50。对亮部来说，<strong>不应高于 240 sRGB</strong>。<br><img src="https://cdn.allegorithmic.com/images/academy/86a711f0-2e07-4109-9027-33a21ce3d51a" alt></p><p>我们说过base color包含绝缘体表面反射光的信息，所以它不应包含像AO这样的光照信息。可以有一些例外，比如细微的遮蔽（当shader无法仅仅通过ao来体现这一精度的细节时），如下图。<br><img src="https://cdn.allegorithmic.com/images/academy/1e92ba2c-d8b0-476d-ae3c-34c133e16b7d" alt></p><p>金属的反射值应当从现实测量数值中获取。这些数值应当在 <strong>70-100% specular</strong>左右，对应<strong>sRGB范围在 180-255</strong>。</p><p>Sébastien Lagarde的图表是个很好的资源(DONTNOD Physically based rendering chart for Unreal Engine 4](<a href="https://seblagarde.wordpress.com/2014/04/14/dontnod-physically-based-rendering-chart-for-unreal-engine-4/)" target="_blank" rel="noopener">https://seblagarde.wordpress.com/2014/04/14/dontnod-physically-based-rendering-chart-for-unreal-engine-4/)</a>)</p><p><strong>金属的反射值应当从现实测量数值中获取</strong></p><ul><li>颜色代表非金属材质的Albedo，与金属材质的反射值</li><li>基础色(Base color)应该避免包含光照信息，除了微遮蔽(micro-occlusion)</li><li>暗部应该不低于 30 sRGB(宽松下限) 到 50 sRGB(严格下限)</li><li>亮部不应高于240 sRGB</li><li>纯金属的反射很高，在70%-100%，对应 180-255 SRGB</li></ul><p>在接下来的金属段落中你会读到，基础色(base color)包含了金属反射值，如果尘土或锈迹被加在基础色上。会导致该处的金属反射值降低到不可被认定是纯金属的范围。</p><p>金属度贴图(Metallic map)必须考虑尘土和锈迹的情况，这些地方的金属度必须降低以体现这些地方不再被认定为是纯金属。在下图中你可以看到在金属度贴图中锈蚀的地方被当作绝缘体设置成黑色。尘土的地方也设置成了灰色。所以考虑到比如尘土的这种情况，金属度贴图并不总是非黑即白的0/1贴图。<br><img src="https://cdn.allegorithmic.com/images/academy/f155be69-8480-4070-9e05-cb266051d19f" alt></p><p><strong>金属度贴图类似于一张mask，它告诉shader如何处理基础色(base color)中的信息</strong></p><h3 id="金属度-Metallic-Grayscale-Linear"><a href="#金属度-Metallic-Grayscale-Linear" class="headerlink" title="金属度 Metallic (Grayscale - Linear)"></a>金属度 Metallic (Grayscale - Linear)</h3><p>金属贴图用于定义哪些区域是纯金属。作为一张灰度图，它的作用类似于一张mask，告知shader如何处理基础色(base color)中的信息。</p><p><img src="https://cdn.allegorithmic.com/images/academy/08294dc6-f38d-4cd6-af7f-fca8e9c00dda" alt></p><p>金属度贴图中的信息并不直接包含真实世界中的信息。它只是告知shader，基础色的哪些区域应当被作为漫反射颜色(绝缘体)，哪些区域应当被当作金属反射值。在金属度贴图中，0.0 (black – 0 sRGB) 表示非金属，而 1.0 (white – 255 sRGB) 代表纯金属。在实际操作中，当shader发现金属度贴图上的值是白色，它就将Base color贴图上相应的部分当作金属反射值来使用。</p><h4 id="制作准则-1"><a href="#制作准则-1" class="headerlink" title="制作准则"></a><em>制作准则</em></h4><p>金属表面有两个与贴图相关的方面：</p><ul><li>第一，它们的反射值很高，在 70%-100% 范围；</li><li>第二，有些金属可以生锈。<br>我们讨论制作准则时会分别检视这两个方面。</li></ul><h5 id="纯金属"><a href="#纯金属" class="headerlink" title="纯金属"></a><em>纯金属</em></h5><p>大致上，我们定义金属度贴图上灰度值 <strong>235-255</strong> 的范围为<em>纯金属</em>，在这一区间的金属需要它的Base color有 70-100% 的反射值，或者说 180-255 sRGB。如下图。再次说明，这些数值来源于真实世界的测量数据。<br><img src="https://cdn.allegorithmic.com/images/academy/94624c56-0119-4a99-95c3-45b877aca57d" alt></p><h5 id="锈蚀或绝缘体"><a href="#锈蚀或绝缘体" class="headerlink" title="锈蚀或绝缘体"></a><em>锈蚀或绝缘体</em></h5><p>当你制作一个表面时，需要考虑该金属的氧化情况，或者其它环境因素如尘土及污垢。当一个喷漆的金属某些部分被刮坏或者掉漆了的时候，暴露的金属是纯金属（金属度贴图中为白色），喷漆表面是绝缘层（金属度贴图中为黑色），如下图。<br><img src="https://cdn.allegorithmic.com/images/academy/ec724b25-74e5-4c89-bbfb-e5e6edde440a" alt></p><p>金属度贴图可以体现金属及非金属之间的过渡状态（灰度）。如果金属度低于 235 sRGB 的时候你需要降低base color上的反射值。想想一个部分盖住金属的尘土层，如下图。尘土是绝缘体，如果你保留纯白的金属度，shader会将这些尘土在base color上的值用作金属的反射值。尘土的颜色远低于光滑金属所需要的70%-100%范围。通过降低尘土区域的金属度，你才能制作出合适的介于绝缘体和金属反射值之间的过渡。<br><img src="https://cdn.allegorithmic.com/images/academy/ef553e0e-adeb-4f8c-b471-5e778875bc74" alt></p><p>在Substance Designer中可以使用Material Color Blend节点制作尘土效果。</p><h3 id="粗糙度-Roughness-Grayscale-Linear"><a href="#粗糙度-Roughness-Grayscale-Linear" class="headerlink" title="粗糙度 Roughness (Grayscale - Linear)"></a>粗糙度 Roughness (Grayscale - Linear)</h3><p>粗糙度贴图描述物体因为表面不规则导致的光线散射，反射的方向是随机的。这改变了光的方向，但是光的总体强度是保持不变的。粗糙的表面有面积更大、更暗的高光。光滑的表面会使高光反射保持聚集，看起来更亮更强，虽然总体反光量是相同的。<br><img src="https://cdn.allegorithmic.com/images/academy/fbc09194-da18-4478-b119-cd0a84be4930" alt></p><p>粗糙度贴图是最具创作性的贴图，它允许美术在视觉上定义一个表面的特征。使我们可以创造性的讲述这个表面的情况。它的环境是怎样的？它被好好珍藏还是粗暴对待？它曾被暴露在某些情况下吗？一个物体表面的情况可以告诉我们很多关于它所在的环境的故事，并因此与我们想要设计的这个物体，以及想要创造的整体世界相联系起来。</p><h4 id="制作准则-2"><a href="#制作准则-2" class="headerlink" title="制作准则"></a><em>制作准则</em></h4><p>保持创造性，讲述一个关于该表面的故事。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阴影代理 (Shadow Proxy)</title>
      <link href="/2019/07/27/20190727-ShadowProxy/"/>
      <url>/2019/07/27/20190727-ShadowProxy/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/graphics/ShadowProxyComarison.jpg" alt></p><p><a href="https://docs.cryengine.com/display/CEMANUAL/Shadow+Proxies" target="_blank" rel="noopener">CryEngine: Shadow Proxy</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>植被制作流程 Vegetation and SpeedTree</title>
      <link href="/2019/07/06/20190706-Vegetation_SpeedTree/"/>
      <url>/2019/07/06/20190706-Vegetation_SpeedTree/</url>
      
        <content type="html"><![CDATA[<h3 id="Cluster流程（Horizon-与-Farcry-的流程）"><a href="#Cluster流程（Horizon-与-Farcry-的流程）" class="headerlink" title="Cluster流程（Horizon 与 Farcry 的流程）"></a>Cluster流程（Horizon 与 Farcry 的流程）</h3><p><img src="/img/ta/vegetation_horizon_process00.jpg" alt></p><a id="more"></a><p><img src="/img/ta/vegetation_horizon_process01.jpg" alt><br><img src="/img/ta/vegetation_horizon_process_.jpg" alt><br><img src="/img/ta/vegetation_horizon.jpg" alt></p><h3 id="将项目中的树变更为Cluster流程"><a href="#将项目中的树变更为Cluster流程" class="headerlink" title="将项目中的树变更为Cluster流程"></a>将项目中的树变更为Cluster流程</h3><p><img src="/img/ta/vegetation_cluster.jpg" alt></p><ul><li>好处是，制作周期和修改周期都大幅缩短（LOD），视觉效果更好，总体性能更好</li><li>缺点是，面数更高</li></ul><p><img src="/img/ta/vegetation_cluster_procon.jpg" alt></p><p>项目植被变更为Cluster流程后：<br>制作和修改周期缩短为Card流程的五分之一，<br>运行时性能开销下降约15%，<br>美术表现有较大提升。</p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>Jim Thacker, <a href="https://www.gnomon.edu/blog/discover-naughty-dog-s-environment-art-workflow-for-uncharted-4" target="_blank" rel="noopener">Discover Uncharted 4’s Environment Art Workflow</a> ,2016<br>Nils Arenz, <a href="https://medium.com/@EightyLevel/preparing-realistic-grass-in-ue4-8bf54b1fa01c" target="_blank" rel="noopener">Preparing Realistic Grass in UE4</a>，2018<br>Jobye Karmaker, <a href="https://80.lv/articles/vegetation-creation-for-video-games/" target="_blank" rel="noopener">Vegetation Creation for Video Games</a>, 2016<br>Adrian Courrèges, <a href="http://www.adriancourreges.com/blog/2015/11/02/gta-v-graphics-study/" target="_blank" rel="noopener">GTA V - Graphics Study</a>, 2015<br>Danny Weinbaum, <a href="https://www.gamasutra.com/blogs/DannyWeinbaum/20171201/310813/Foliage_Optimization_in_Unity.php" target="_blank" rel="noopener">Foliage Optimization in Unity</a>, 2017<br>MoonChildInSky, <a href="https://zhuanlan.zhihu.com/p/39627412?utm_source=ZHShareTargetIDMore&amp;utm_medium=social&amp;utm_oi=686175245690474496" target="_blank" rel="noopener">《幽灵行动：荒野》地形技术和工具</a>, GDC 2017<br>Johan Andersson, Terrain Rendering in Frostbite Using Procedural Shader Splatting, SIGGRAPH 2007<br>Jaap van Muijden, GPU-based Procedural Placement in Horizon Zero Dawn, GDC 2017<br>, <a href="https://www.eurogamer.net/articles/digitalfoundry-2017-horizon-zero-dawn-the-making-of-ps4-pros-best-4k-game" target="_blank" rel="noopener">Horizon Zero Dawn: the making of PS4 Pro’s best 4K game Guerrilla Games on how it met the ultra HD challenge</a>, 2017<br>Théophile Lebeau, <a href="https://80.lv/articles/creating-a-forest-biome-with-photogrammetry/" target="_blank" rel="noopener">Creating a Forest Biome with Photogrammetry</a>, 2018<br>Stephen McAuley, <a href="https://www.gdcvault.com/play/1022235/Rendering-the-World-of-Far" target="_blank" rel="noopener">Rendering of the world of Far Cry 4</a>, GDC 2015</p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CommandBuffer 描边</title>
      <link href="/2019/06/15/20190615-GlowOutline/"/>
      <url>/2019/06/15/20190615-GlowOutline/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/graphics/GlowOutlineCommandBuffer.png" alt></p><p>参考：<br><a href="http://xroft666.blogspot.com/2015/07/glow-highlighting-in-unity.html" target="_blank" rel="noopener">Glow highlighting in Unity</a><br><a href="https://blog.csdn.net/puppet_master/article/details/72669977" target="_blank" rel="noopener">Unity Shader-Command Buffer的使用（景深与描边效果重置版）</a></p><a id="more"></a><h3 id="Compare-Camera-Depth"><a href="#Compare-Camera-Depth" class="headerlink" title="Compare Camera Depth"></a>Compare Camera Depth</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sampler2D _CameraDepthTexture;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(UNITY_REVERSED_Z)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> COMPARE_DEPTH(a, b) step(b, a)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> COMPARE_DEPTH(a, b) step(a, b)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// in vert</span></span><br><span class="line"></span><br><span class="line">o.projPos = ComputeScreenPos(o.pos);</span><br><span class="line">o.projPos.z = COMPUTE_DEPTH_01;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// in frag</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> depth = SAMPLE_DEPTH_TEXTURE_PROJ(_CameraDepthTexture, UNITY_PROJ_COORD(i.projPos));</span><br><span class="line">depth = Linear01Depth(depth);=</span><br><span class="line"></span><br><span class="line">COMPARE_DEPTH(i.projPos.z, depth);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fresnel</title>
      <link href="/2019/06/14/20190614-Fresnel/"/>
      <url>/2019/06/14/20190614-Fresnel/</url>
      
        <content type="html"><![CDATA[<h3 id="Fresnel"><a href="#Fresnel" class="headerlink" title="Fresnel"></a>Fresnel</h3><p><img src="/img/graphics/EveryThingHasFresnel.jpg" alt></p><h2 id="Example-Water-Fresnel"><a href="#Example-Water-Fresnel" class="headerlink" title="Example Water Fresnel"></a>Example Water Fresnel</h2><p><img src="/img/graphics/waterFresnel.png" alt></p><p><img src="/img/graphics/fresnelOnly.jpg" alt></p><a id="more"></a><!--![](/img/graphics/waterFresnelComparison.jpg)-->]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>光照探针(LightProbe) 与 球谐(Spherical Harmonics)</title>
      <link href="/2019/06/01/20190601-SphericalHarmonics/"/>
      <url>/2019/06/01/20190601-SphericalHarmonics/</url>
      
        <content type="html"><![CDATA[<p>需求：可以手动自定义，并且随Prefab保存的LightProbe</p><h4 id="球谐函数-Spherical-Harmonics"><a href="#球谐函数-Spherical-Harmonics" class="headerlink" title="球谐函数 (Spherical Harmonics)"></a>球谐函数 (Spherical Harmonics)</h4><p><img src="/img/graphics/Spherical_Harmonics.jpg" alt></p><p>正经定义：<br>球谐函数是拉普拉斯方程的球坐标系形式解的角度部分</p><p>自分白话解释：<br>球谐函数 - 使用少量系数定义一个球面的整个表面：输入一个方向(球面上一点)，输出该方向的颜色</p><p>Unity中使用的是二阶球谐函数 <a href="https://docs.unity3d.com/ScriptReference/Rendering.SphericalHarmonicsL2.html" target="_blank" rel="noopener">SphericalHarmonicsL2</a>，保存为9个系数(27个float)，使用时转换为7个Vector4提供给Shader(参考buitin shaders中的ShadeSH9)</p><p>Unity的实现参考的是 <a href="http://www.ppsloan.org/publications/StupidSH36.pdf" target="_blank" rel="noopener">Stupid Spherical Harmonics (SH) Tricks</a></p><p>官方文档中关于光照探针的技术信息： <a href="https://docs.unity3d.com/Manual/LightProbes-TechnicalInformation.html" target="_blank" rel="noopener">Light Probes: Technical information</a></p><p>关于SH一篇非常好的文章： <a href="https://patapom.com/blog/SHPortal/" target="_blank" rel="noopener">Benoît Mayaux (Patapom), Spherical Harmonics</a></p><p>还有企鹅学院的两篇：<br>(Unity Shader球谐光照解析)[<a href="https://gameinstitute.qq.com/community/detail/124147]" target="_blank" rel="noopener">https://gameinstitute.qq.com/community/detail/124147]</a><br>(球谐光照（spherical harmonic lighting）解析)[<a href="https://gameinstitute.qq.com/community/detail/123183]" target="_blank" rel="noopener">https://gameinstitute.qq.com/community/detail/123183]</a></p><h4 id="自动布置LightProbe"><a href="#自动布置LightProbe" class="headerlink" title="自动布置LightProbe"></a>自动布置LightProbe</h4><p>将需要LightProbe的位置赋值给 <a href="https://docs.unity3d.com/ScriptReference/LightProbeGroup-probePositions.html" target="_blank" rel="noopener">LightProbeGroup.probePositions</a></p><p>官方例子：<a href="https://docs.unity3d.com/Manual/LightProbes-Placing-Scripting.html" target="_blank" rel="noopener">Placing probes using scripting</a></p><h4 id="Unity中手动计算SH"><a href="#Unity中手动计算SH" class="headerlink" title="Unity中手动计算SH"></a>Unity中手动计算SH</h4><p><img src="/img/graphics/mlpDemo.jpg" alt></p><p>SphericalHarmonicsL2提供两个方法</p><ul><li>添加环境光(AddAmbientLight)</li><li>添加平行光(AddDirectionalLight)</li></ul><p>Unity官方文档提供了一个例子：[LightProbes.bakedProbes(Unity文档)]<a href="https://docs.unity3d.com/ScriptReference/LightProbes-bakedProbes.html" target="_blank" rel="noopener">https://docs.unity3d.com/ScriptReference/LightProbes-bakedProbes.html</a></p><a id="more"></a><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.Rendering;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ExampleClass</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Color m_Ambient;</span><br><span class="line">    <span class="keyword">public</span> Light[] m_Lights;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// On start add the contribution of the ambient light and all lights</span></span><br><span class="line">    <span class="comment">// assigned to the lights array to all baked probes.</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        SphericalHarmonicsL2[] bakedProbes = LightmapSettings.lightProbes.bakedProbes;</span><br><span class="line">        Vector3[] probePositions = LightmapSettings.lightProbes.positions;</span><br><span class="line">        <span class="keyword">int</span> probeCount = LightmapSettings.lightProbes.count;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Clear all probes</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; probeCount; i++)</span><br><span class="line">            bakedProbes[i].Clear();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Add ambient light to all probes</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; probeCount; i++)</span><br><span class="line">            bakedProbes[i].AddAmbientLight(m_Ambient);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Add directional and point lights' contribution to all probes</span></span><br><span class="line">        <span class="keyword">foreach</span> (Light l <span class="keyword">in</span> m_Lights)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (l.type == LightType.Directional)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; probeCount; i++)</span><br><span class="line">                    bakedProbes[i].AddDirectionalLight(-l.transform.forward, l.color, l.intensity);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (l.type == LightType.Point)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; probeCount; i++)</span><br><span class="line">                    SHAddPointLight(probePositions[i], l.transform.position, l.range, l.color, l.intensity, <span class="keyword">ref</span> bakedProbes[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        LightmapSettings.lightProbes.bakedProbes = bakedProbes;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SHAddPointLight</span>(<span class="params">Vector3 probePosition, Vector3 position, <span class="keyword">float</span> range, Color color, <span class="keyword">float</span> intensity, <span class="keyword">ref</span> SphericalHarmonicsL2 sh</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">// From the point of view of an SH probe, point light looks no different than a directional light,</span></span><br><span class="line">        <span class="comment">// just attenuated and coming from the right direction.</span></span><br><span class="line">        Vector3 probeToLight = position - probePosition;</span><br><span class="line">        <span class="keyword">float</span> attenuation = <span class="number">1.0F</span> / (<span class="number">1.0F</span> + <span class="number">25.0F</span> * probeToLight.sqrMagnitude / (range * range));</span><br><span class="line">        sh.AddDirectionalLight(probeToLight.normalized, color, intensity * attenuation);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="在已有LightProbe烘焙的环境中的指定位置获取LightProbe"><a href="#在已有LightProbe烘焙的环境中的指定位置获取LightProbe" class="headerlink" title="在已有LightProbe烘焙的环境中的指定位置获取LightProbe"></a>在已有LightProbe烘焙的环境中的指定位置获取LightProbe</h4><p>使用方法<a href="https://docs.unity3d.com/ScriptReference/LightProbes.GetInterpolatedProbe.html" target="_blank" rel="noopener">LightProbes.GetInterpolatedProbe</a></p><h4 id="LightProbe的SH差值"><a href="#LightProbe的SH差值" class="headerlink" title="LightProbe的SH差值"></a>LightProbe的SH差值</h4><p><img src="/img/graphics/Light-Probe-Interpolation-Using-Tetrahedral.png" alt><br>Unity官方在GDC 2012上的说明, <a href="https://www.gdcvault.com/play/1015312/Light-Probe-Interpolation-Using-Tetrahedral" target="_blank" rel="noopener">Light Probe Interpolation Using Tetrahedral Tessellations</a></p><p>Unity中烘焙时计算四面体网络(TetrahedronGrid)并保存，运行时根据对象在某个四面体中的位置，利用这个四面体相关的几个SH插值出一个新的SH</p><p>更多阅读:<br><a href="https://arxiv.org/abs/physics/0206007" target="_blank" rel="noopener">Spherical Harmonics Interpolation, Computation of Laplacians and Gauge Theory</a></p><h4 id="将SH系数注入Renderer"><a href="#将SH系数注入Renderer" class="headerlink" title="将SH系数注入Renderer"></a>将SH系数注入Renderer</h4><p>Unity官方的Keijiro Takahashi 写的 <a href="https://github.com/keijiro/LightProbeUtility" target="_blank" rel="noopener">LightProbeUtility</a></p><p><img src="https://camo.githubusercontent.com/bfda9b5c1438318d429440db42f88464b6214037/68747470733a2f2f34352e6d656469612e74756d626c722e636f6d2f66373934666138383130613932313463326434303065653761346162623132642f74756d626c725f6f34326f7a69614d475a3171696f3436396f315f3430302e676966" alt></p><p>注意系数的组合方式在之后的版本中有变化，正确的组合如下</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Constant + Linear</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">    properties.SetVector(_idSHA[i], <span class="keyword">new</span> Vector4(</span><br><span class="line">        sh[i, <span class="number">3</span>], sh[i, <span class="number">1</span>], sh[i, <span class="number">2</span>], sh[i, <span class="number">0</span>] - sh[i, <span class="number">6</span>] </span><br><span class="line">    ));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Quadratic polynomials</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">    properties.SetVector(_idSHB[i], <span class="keyword">new</span> Vector4(</span><br><span class="line">        sh[i, <span class="number">4</span>], sh[i, <span class="number">5</span>], sh[i, <span class="number">6</span>] * <span class="number">3</span>, sh[i, <span class="number">7</span>]</span><br><span class="line">    ));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Final quadratic polynomial</span></span><br><span class="line">properties.SetVector(_idSHC, <span class="keyword">new</span> Vector4(</span><br><span class="line">    sh[<span class="number">0</span>, <span class="number">8</span>], sh[<span class="number">1</span>, <span class="number">8</span>], sh[<span class="number">2</span>, <span class="number">8</span>], <span class="number">1</span></span><br><span class="line">));</span><br></pre></td></tr></table></figure><p>UnityCG.cginc中相关的代码</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// normal should be normalized, w=1.0</span></span><br><span class="line"><span class="function">half3 <span class="title">SHEvalLinearL0L1</span> (<span class="params">half4 normal</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    half3 x;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Linear (L1) + constant (L0) polynomial terms</span></span><br><span class="line">    x.r = dot(unity_SHAr,normal);</span><br><span class="line">    x.g = dot(unity_SHAg,normal);</span><br><span class="line">    x.b = dot(unity_SHAb,normal);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// normal should be normalized, w=1.0</span></span><br><span class="line"><span class="function">half3 <span class="title">SHEvalLinearL2</span> (<span class="params">half4 normal</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    half3 x1, x2;</span><br><span class="line">    <span class="comment">// 4 of the quadratic (L2) polynomials</span></span><br><span class="line">    half4 vB = normal.xyzz * normal.yzzx;</span><br><span class="line">    x1.r = dot(unity_SHBr,vB);</span><br><span class="line">    x1.g = dot(unity_SHBg,vB);</span><br><span class="line">    x1.b = dot(unity_SHBb,vB);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Final (5th) quadratic (L2) polynomial</span></span><br><span class="line">    half vC = normal.x*normal.x - normal.y*normal.y;</span><br><span class="line">    x2 = unity_SHC.rgb * vC;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x1 + x2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// normal should be normalized, w=1.0</span></span><br><span class="line"><span class="comment">// output in active color space</span></span><br><span class="line"><span class="function">half3 <span class="title">ShadeSH9</span> (<span class="params">half4 normal</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Linear + constant polynomial terms</span></span><br><span class="line">    half3 res = SHEvalLinearL0L1 (normal);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Quadratic polynomials</span></span><br><span class="line">    res += SHEvalLinearL2 (normal);</span><br><span class="line"></span><br><span class="line"><span class="meta">#   ifdef UNITY_COLORSPACE_GAMMA</span></span><br><span class="line">        res = LinearToGammaSpace (res);</span><br><span class="line"><span class="meta">#   <span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>收拾东西翻出一套搁置脑洞 (Animal Boxing)</title>
      <link href="/2019/01/12/20190112-animalBoxing/"/>
      <url>/2019/01/12/20190112-animalBoxing/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/animalboxing/mmexport1547290455260.png" alt></p><a id="more"></a><p><img src="/img/animalboxing/mmexport1547290462270.jpg" alt><br><img src="/img/animalboxing/mmexport1547290464170.png" alt><br><img src="/img/animalboxing/mmexport1547290452146.png" alt><br><img src="/img/animalboxing/mmexport1547290457071.jpg" alt><br><img src="/img/animalboxing/mmexport1547290458742.jpg" alt><br><img src="/img/animalboxing/mmexport1547290460442.jpg" alt><br><img src="/img/animalboxing/mmexport1547290444647.jpg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> 画 </tag>
            
            <tag> 脑洞 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阿西达卡与卡雅</title>
      <link href="/2018/12/14/20181214-Axidaka_Kaya/"/>
      <url>/2018/12/14/20181214-Axidaka_Kaya/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/drawings/mmexport1547466623253.jpg" alt></p><a id="more"></a><p><img src="/img/drawings/mmexport1547466610392.jpg" alt><br><img src="/img/drawings/mmexport1547466613324.jpg" alt><br><img src="/img/drawings/mmexport1547466615951.jpg" alt><br><img src="/img/drawings/mmexport1547466618417.jpg" alt></p><p><img src="/img/drawings/mmexport1547466631567.jpg" alt><br><img src="/img/drawings/mmexport1547466634061.jpg" alt><br><img src="/img/drawings/mmexport1547466626616.jpg" alt><br><img src="/img/drawings/mmexport1547466629138.jpg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> 画 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>练习</title>
      <link href="/2018/10/26/20181026-Lianxi/"/>
      <url>/2018/10/26/20181026-Lianxi/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/drawings/mmexport1547465582079.jpg" alt></p><a id="more"></a><p><img src="/img/drawings/mmexport1547465587685.jpg" alt></p><p><img src="/img/drawings/mmexport1547465585073.jpg" alt><br><img src="/img/drawings/mmexport1547465590268.jpg" alt></p><p><img src="/img/drawings/mmexport1547465592921.jpg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> 画 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>青海</title>
      <link href="/2018/09/10/20180910-Qinghai/"/>
      <url>/2018/09/10/20180910-Qinghai/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/drawings/mmexport1547465601926.jpg" alt><br><img src="/img/drawings/mmexport1547465611142.jpg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> 照片 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The Brain</title>
      <link href="/2018/09/10/20181023-TheBrain/"/>
      <url>/2018/09/10/20181023-TheBrain/</url>
      
        <content type="html"><![CDATA[<p>整理知识，整理思路的工具</p><p><img src="/img/thebrain.jpg" alt></p><a id="more"></a><p>thebrain.com</p><p>Pro版只能用国际信用卡买，所以在国内只能用免费版<br>感觉免费版也够用了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 照片 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>时间力</title>
      <link href="/2018/08/08/20180808-TimePower/"/>
      <url>/2018/08/08/20180808-TimePower/</url>
      
        <content type="html"><![CDATA[<p><strong>动机</strong> 你需要拥有对结果的强烈渴望，才能克服自己按旧习惯做事的天生惰性。</p><a id="more"></a><h4 id="训练的效率与效果"><a href="#训练的效率与效果" class="headerlink" title="训练的效率与效果"></a>训练的效率与效果</h4><blockquote><p><em>积极的自我对话(自我暗示)</em> “我很擅长xxx”,”我是一个守时的人”<br><em>想象(形象化)/自我演练</em> 你会成为你所想象的那个人<br><em>角色扮演</em><br><em>榜样模仿</em><br><em>成为教师</em> 如果你在学习一项新知识或新技能的同时考虑如何将其教给他人，你吸收知识的速度将快得多。快速掌握新知识的方法之一就是学完以后立刻与他人分享。<br><em>成为榜样</em></p></blockquote><h4 id="自尊的三个影响因素"><a href="#自尊的三个影响因素" class="headerlink" title="自尊的三个影响因素"></a>自尊的三个影响因素</h4><blockquote><p><em>1.决定自我价值</em> 遵循自己的信念和价值观并拒绝妥协，高效利用时间<br><em>2.获得自我掌控</em><br><em>3.了解自我需要</em></p></blockquote><blockquote><p>高效的人与低效的人的一个主要差别在于前者往往非常关注产出或结果，后者只关注投入。换句话说，杰出者追求成绩，平庸者只顾努力。</p><p>你需要花21天时间来练习和重复从而形成一个新的习惯。</p></blockquote><h3 id="通过目标掌控时间"><a href="#通过目标掌控时间" class="headerlink" title="通过目标掌控时间"></a>通过目标掌控时间</h3><blockquote><p>按照优先顺序清晰的规划你的目标，然后专注地投入你能够完成的最重要的事，这是有效利用时间的关键。</p><p>如果你没有自己的目标，你注定永远为他人工作。</p><p>把目标写下来。</p></blockquote><h4 id="确立目标的基本原则"><a href="#确立目标的基本原则" class="headerlink" title="确立目标的基本原则"></a>确立目标的基本原则</h4><blockquote><p><strong>1. 要有远大的理想和志向</strong> 制定目标时将其”理想化”，应该是想做的任何事，只要心里清楚他到底是什么。<br><strong>2. 用现在时记录目标</strong> “我的体重150斤” “我的年收入是10万”，开始新的一天工作之前，重写目标<br><strong>3. 使目标保持平衡</strong> 经济目标；家庭目标；事业目标<br><strong>4. 了解自己最主要的目标</strong></p><p><strong>如何确定真正的理想</strong>:<br>如果明天中彩票一亿，你将如何改变生活，你将着手做那些现在无法做的事，停止做哪些现在正在做的事。<br>如果有机会为自己写自传，你希望在自传里写什么。<br>如果能确保任何目标都会成功，你会选择一个什么目标。<br>你在家里和工作上真正爱做的事是什么。最能带来自尊感的事情往往就是最适合做的工作。人们总是会爱做那些以天赋才能做到完美的事。<br><strong>30秒 快速列表</strong> 30秒写下最重要的三个目标，30秒写下目前最压迫的三个烦恼。<br><strong>设想零束缚</strong> 神说要有光，就有了光。花越多时间去写下每一个愿望，生活中就有越多的光明。<br>要实现你人生目标，需要采取哪些具体措施</p></blockquote><p><strong>目标的优先级</strong></p><ul><li>A：最重要的目标，能带来无上幸福和快乐的，发自内心希望实现</li><li>B：希望达成，会享受它的成果，但比不上A类重要</li><li>C：如果有固然很好的目标</li></ul><h4 id="制定详细的行动计划"><a href="#制定详细的行动计划" class="headerlink" title="制定详细的行动计划"></a>制定详细的行动计划</h4><blockquote><p>列出一张清单，记录能想到的能帮助实现目标的每一件事(应该能想到10-20件不同的事)。然后用ABC在每项前标记(“在实现目标上什么行动最有帮助？”)。</p></blockquote><h4 id="提高实现目标的能力"><a href="#提高实现目标的能力" class="headerlink" title="提高实现目标的能力"></a>提高实现目标的能力</h4><ol><li><strong>把目标看作一个事实</strong><br>想象目标什么样，实现目标后什么样，成功果实会带来怎样的愉悦。这种预想能力事人类最强有力的思维能力之一。不断想象目标实现时的画面，这个图像就会激活你的潜意识，并启动<strong>吸引力法则</strong>，你是一块”活磁铁”，会不知不觉的将那些有利于实现目标的观点、人物、资源吸收到生活中。<strong>信念法则</strong>：信仰创造真实。<strong>思维法则</strong>：思想会使自己具体化。</li><li><strong>积极肯定目标如同他们已经实现</strong> </li><li><strong>承担为实现结果的一切职责</strong><br>当你愿意为了实现自己的目标而承担全部责任时，在你通往成功的道路上就会有贵人相助。如果你在实现目标的过程中总是求助于人，得到的往往是失望。</li><li><strong>充满信心的去做每一件事</strong><br>一旦清楚想要的，下一步就是行动起来，就像这是一个不可能失败的任务。就如同在你实现梦想的过程中得到了某种伟大力量的庇佑。</li><li><strong>每天向目标迈进一步</strong></li></ol><h4 id="实现收入和事业目标"><a href="#实现收入和事业目标" class="headerlink" title="实现收入和事业目标"></a>实现收入和事业目标</h4><ol><li><strong>致力于服务对象的满意度</strong></li><li><strong>发现服务对象的需求</strong> 谁是我的服务对象，他满意的标准是什么，对他而言我的价值在哪里，我怎样才能最大限度地满足我的顾客。</li><li><strong>明确主要职能</strong> 第一，生产任务必须是具体的可测量的。 第二，一项生产任务是在你的掌控下的。 第三，一项生产任务的产出又会成为他人的投入。</li><li><strong>确定主要工作范畴</strong> 什么是只有你能做好并且能产生巨大贡献的，找到一个只有你胜任的工作。仅有20%的事情占到你工作价值的80%，需要把精力投入到体现大部分价值的这20%上去。</li><li><strong>进行目标管理</strong> 第一，清晰的描述定义目标，与有能力实现他的员工进行讨论，并就任务达成一致；第二，讨论并商定实施计划。达成该目标需要哪些步骤，应该如何去做，如何评价结果是否成功，用什么考核标准；第三，确定完成时间；第四，全权委托某个人来处理，一旦把描述清晰的工作和考核标准分配给有能力的员工，就让他以自己的方式来完成这项工作，不干涉，可以给建议支持，但明确这工作是他的责任。全权责任完成一项工作，是个人培养的最有力工具之一，并且能节省大量时间。</li></ol><h4 id="更快的实现目标"><a href="#更快的实现目标" class="headerlink" title="更快的实现目标"></a>更快的实现目标</h4><ol><li><strong>克服障碍</strong> 找出你与目标之间的障碍。写下每一个障碍，找出最大困难，集中精力下决心攻克。”每一个复杂的问题都要首先解决矛盾的主要方面，才能保证其他方面得以解决。” 找出这个最大的困难并全身心投入来解决它，防止被其他小问题分散注意力。</li><li><strong>找出你的瓶颈</strong> 几乎所有目标的实现和工作的完成都有一个步骤是整个过程的瓶颈。“目标实现受阻的原因有80%是源于你本身”。缺乏某种才能、技能往往是妨碍目标实现的主要原因。</li><li><strong>明确所需的知识和技能</strong> “要完成一件你从未完成的事，就要达到一个之前从未达到的高度。”</li><li><strong>知道你所需要的帮助</strong> 想想你需要与谁合作，这对他们来说有什么好处，他们在帮助你实现目标的同时能为自己赢得什么。</li></ol><p><strong>几个问题</strong><br>“我想要做什么？” 期望得到什么结果<br>“我打算怎么做？” 目前方法可行吗，你的假设是什么，是否有更好的方法<br>“什么是我真正的目标？” 清楚目标背后的真正目的<br>“我的人生方向在哪里？” </p><h4 id="培养绝对清晰的方向感"><a href="#培养绝对清晰的方向感" class="headerlink" title="培养绝对清晰的方向感"></a>培养绝对清晰的方向感</h4><p>“成功必备的品质是：明确的目标、扎实的知识和强烈的愿望。”</p><h3 id="卓越时间管理的本质——有序"><a href="#卓越时间管理的本质——有序" class="headerlink" title="卓越时间管理的本质——有序"></a>卓越时间管理的本质——有序</h3><p>越是肯花时间在前期计划上，之后的行动就越是万无一失。</p><p>潜意识是为目标提供动力的工具。</p><p>花在制定计划上的每1分钟都会节省执行计划时的10分钟。</p><p><strong>大多数人的失败原因</strong><br>“没有计划的行动是一切失败的原因”<br>“成功是靠自律积累起来的”</p><h4 id="个人条理的四个观念"><a href="#个人条理的四个观念" class="headerlink" title="个人条理的四个观念"></a>个人条理的四个观念</h4><ol><li><strong>整洁</strong> “秩序是天堂的第一法则”</li><li><strong>以一个旁观者的角度来评价自己</strong> “什么样的人会在这样的地方工作？” “什么样的人会有这样的包？” “什么样的人像这样生活？” 通过一个中立的第三方视角来诚实的评价自己。</li><li><strong>拒绝为自己找借口</strong> </li><li><strong>一张整洁办公桌的生产率</strong></li></ol><p><strong>如何处理文字工作</strong></p><ol><li><strong>扔掉</strong> 垃圾邮件、广告、传单，如果不看是否有消极后果；如果需要这些信息是否可以通过其他途径获得？</li><li><strong>委派给别人</strong> 这是否应该是其他人的工作；是否别人可以做的更出色？</li><li><strong>执行</strong> 准备一个“执行”文件夹，当你想到需要做什么事的时候，就立刻把它放到执行文件夹中，留待稍后处理。</li><li><strong>归档</strong> 对时间最大的浪费行为之一就是不停拿起同一份文件，读完又放下，一遍一遍重复。 </li></ol><h4 id="时间管理的工具和技巧"><a href="#时间管理的工具和技巧" class="headerlink" title="时间管理的工具和技巧"></a>时间管理的工具和技巧</h4><ol><li><strong>使用时间规划工具</strong> 主目录、日历、每日工作列表（“今日行动”）</li><li><strong>按照计划列表工作</strong> </li><li><strong>根据优先次序整理列表</strong></li><li><strong>用你喜欢的时间管理系统</strong></li></ol><h4 id="个人条理的工具"><a href="#个人条理的工具" class="headerlink" title="个人条理的工具"></a>个人条理的工具</h4><ol><li><strong>前夜的准备</strong> 有助于潜意识中开始计划，梦中闪现灵感。帮助睡眠清空脑子。</li><li><strong>规划时间</strong> </li><li><strong>早睡早起</strong> 在开展任何工作前进行几分钟安静的沉思</li><li><strong>归档系统</strong> </li><li><strong>黄金时间做最重要的工作</strong></li><li><strong>使用录音</strong></li></ol><h3 id="建立正确的优先顺序"><a href="#建立正确的优先顺序" class="headerlink" title="建立正确的优先顺序"></a>建立正确的优先顺序</h3><p><strong>从价值观着手</strong> 基于价值观选择对你来说最重要的工作。<br><strong>倾听你的直觉</strong> “内心平静检验” 如果所做的事情与自己的价值观相符，会感到有种的幸福。从事不喜欢的工作，人们容易产生这工作不对劲的想法，工作是好工作，只是不适合你，与你的价值观、天赋不匹配。<br><strong>洞悉自己</strong> 想象你可以设计一份理想的工作，可以每天只做自己喜欢的事情，这种情况下，你会做出怎样的改变。<strong>零基础思维</strong>“假设我现在没有从事这份工作，我还会选择这份工作吗。<strong>勇气</strong>会引导你对自己的生活方式和工作方式做出根本性改变。<br><strong>帕累托法则（二八定律）</strong> 在开始工作前明确最重要的20%的任务</p><p><strong>对时间最糟糕的利用就是把不需要做的事做得完美</strong></p><p><strong>创造性拖延</strong> 下决心在80%价值较低的工作上拖延。</p><p>领导者：做对的事情；执行者：把事情做对<br><strong>停下某些工作</strong></p><h4 id="个人优先事项"><a href="#个人优先事项" class="headerlink" title="个人优先事项"></a>个人优先事项</h4><ol><li>我的特长和优势，天赋才能是什么，什么是我特别擅长的事</li><li>我过去获得的最优秀成绩是什么，哪些才能使我取得这样的成就</li><li>哪些事情是对别人来说很困难，而我却得心应手的</li><li>如果我想提升自己，我可以从哪里获得这样的机会</li><li>我真正热爱的事业是什么</li></ol><p><strong>优势领域</strong> 必须在至少一个方面绝对突出。</p><h4 id="努力增值"><a href="#努力增值" class="headerlink" title="努力增值"></a>努力增值</h4><p>你贡献价值的能力决定了你的所得回报。<br>“在我做的所有事情中，我以何种方式，在什么时候的工作对公司的贡献最大？”<br>通常，只有三件事囊括了你对公司90%的贡献。</p><ol><li>“如果我可以一天只做一件事，什么事能够为我的工作带来最大价值？”</li><li>“如果再加一件事，它是什么？”</li><li>重复以上问题直到确定这三项主要活动。</li></ol><h4 id="治疗类选法"><a href="#治疗类选法" class="headerlink" title="治疗类选法"></a>治疗类选法</h4><p>胜出者：销量最好，生产稳定的聚宝盆。需要精心打理但不需即时关注；<br>幸存者：具有潜力，投入更多时间可以打造成胜出者；<br>失败者：不管如何投入都迟早要消亡。</p><p><strong>展望未来五年</strong> 设想公司在未来几年成为领跑者，然后再去定位哪些产品、服务、市场尤其是劳动力技能是在五年后成为领军者所必需的。</p><p>“永远不要让最重要的事受到最不重要的事的支配”——歌德</p><p><strong>强迫效率法则</strong><br>“如果我要离开一个月，而在走前只能完成一件事，需要完成的最重要的任务是什么？”</p><h3 id="形成高效的工作习惯"><a href="#形成高效的工作习惯" class="headerlink" title="形成高效的工作习惯"></a>形成高效的工作习惯</h3><p><strong>专注和集中</strong> 弄清目标和步骤，聚焦于当下对于实现目标最重要的事。<br>对时间最大的浪费就是把根本不需要做的事做到完美。</p><p><strong>实现高效的步骤</strong></p><ol><li>设置清楚的目标并记录下来</li><li>制定实现目标的详细行动计划</li><li>给每项行动设置优先级</li><li>不分心、不转移</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HUNTERxHUNTER(猎人) 观后感</title>
      <link href="/2018/06/20/20180620-HunterXHunter/"/>
      <url>/2018/06/20/20180620-HunterXHunter/</url>
      
        <content type="html"><![CDATA[<p>关于世界</p><p>关于角色</p><p>塑造一个角色，应当将自己完全投射到这个角色中，他是怎样的性格，有怎样的经历，</p><p>Gon Freecss<br>Kurapika<br>小麦(コムギ, Komugi, 哥姆琪)<br>梅路艾姆(Meruem)<br>尼飛彼多(Neferpitou)<br>奇路亚(Killua Zaoldyeck) </p><p>关于故事</p>]]></content>
      
      
      
        <tags>
            
            <tag> 观后感 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>三维重建与游戏制作 Reality Capture</title>
      <link href="/2018/06/20/20180620-RealityCapture/"/>
      <url>/2018/06/20/20180620-RealityCapture/</url>
      
        <content type="html"><![CDATA[<p><img src="https://blogs.unity3d.com/wp-content/uploads/2018/06/image41.gif" alt></p><p>今天看到Unity的一篇博客文章 <a href="https://blogs.unity3d.com/2018/06/15/book-of-the-dead-photogrammetry-assets-trees-vfx/" target="_blank" rel="noopener">Book of the Dead: Photogrammetry Assets, Trees, VFX</a><br>三维重建渐渐的实用化了。<br>想起大学在虚国重的日子，竟然已经十年了……</p><a id="more"></a><p><img src="https://blogs.unity3d.com/wp-content/uploads/2018/06/image17.gif" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Unity </tag>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>翻本子发现2017年1月的脑洞</title>
      <link href="/2018/06/05/20180605-Naodong/"/>
      <url>/2018/06/05/20180605-Naodong/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/drawings/mmexport1547456360676.jpg" alt></p><a id="more"></a><p><img src="/img/drawings/mmexport1547456354498.jpg" alt><br><img src="/img/drawings/mmexport1547456357703.jpg" alt><br><img src="/img/drawings/mmexport1547456348175.jpg" alt><br><img src="/img/drawings/mmexport1547456351541.jpg" alt><br><img src="/img/drawings/mmexport1547456363613.jpg" alt><br><img src="/img/drawings/mmexport1547456366892.jpg" alt><br><img src="/img/drawings/mmexport1547456370330.jpg" alt><br><img src="/img/drawings/mmexport1547456373428.jpg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> 画 </tag>
            
            <tag> 脑洞 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>半透效果皮肤 (Aproximate Subserface-Scattering)</title>
      <link href="/2018/05/26/20180526-ApproximateSSS/"/>
      <url>/2018/05/26/20180526-ApproximateSSS/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/sssChunli.png" alt><br>开发测试环境：Unity, Android (小米Max2)</p><p>主要看<a href="https://colinbarrebrisebois.com/2011/03/07/gdc-2011-approximating-translucency-for-a-fast-cheap-and-convincing-subsurface-scattering-look/" target="_blank" rel="noopener">GDC2011这篇演讲</a><br>原理很简单，用光源反方向点乘视线方向，配合厚度图模拟半透效果</p><a id="more"></a><p>下面vLT的这个 0.2* normal 作者称之为 Subsurface Distortion<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">half3 vLT = normalize (lightDir + 0.2* normal);</span><br></pre></td></tr></table></figure></p><p>其实没什么用不如去掉，实际使用时只用了-L·V<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">half fLTDot = pow(saturate(dot(viewDir, -lightDir)), _SSSPower) * _SSSScale;</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">half3 sss = thickness * (((_LightColor0.xyz * (fLTDot) + _SSSAmbient));</span><br></pre></td></tr></table></figure><h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><p><a href="https://colinbarrebrisebois.com/2011/03/07/gdc-2011-approximating-translucency-for-a-fast-cheap-and-convincing-subsurface-scattering-look/" target="_blank" rel="noopener">GDC 2011 – Approximating Translucency for a Fast, Cheap and Convincing Subsurface Scattering Look</a><br><a href="https://www.alanzucconi.com/2017/08/30/fast-subsurface-scattering-1/" target="_blank" rel="noopener">Fast Subsurface Scattering in Unity</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Shader - PBR BRDF</title>
      <link href="/2018/05/25/20180525-BRDF/"/>
      <url>/2018/05/25/20180525-BRDF/</url>
      
        <content type="html"><![CDATA[<p>参考Unity的Standard Shader直接写个BRDF PBS的fragment shader，作为基础方便以后修改。</p><h3 id="v2f结构"><a href="#v2f结构" class="headerlink" title="v2f结构"></a>v2f结构</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">v2f</span> &#123;</span></span><br><span class="line">float4 pos : SV_POSITION;</span><br><span class="line">half4 pack0 : TEXCOORD0; <span class="comment">// _MainTex _BumpMap</span></span><br><span class="line">half3 viewDir : TEXCOORD01;</span><br><span class="line">half3 worldPos : TEXCOORD2;</span><br><span class="line">half3x3 tangentToWorld : TEXCOORD3;    <span class="comment">// [3x3:tangentToWorld | 1x3:viewDirForParallax or worldPos]</span></span><br><span class="line">SHADOW_COORDS(<span class="number">6</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="顶点"><a href="#顶点" class="headerlink" title="顶点"></a>顶点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/// Vertex</span><br><span class="line">v2f vert (appdata_full v)</span><br><span class="line">&#123;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">o.pos = UnityObjectToClipPos(v.vertex);</span><br><span class="line">o.pack0.xy = TRANSFORM_TEX(v.texcoord, _MainTex);</span><br><span class="line">o.pack0.zw = TRANSFORM_TEX(v.texcoord, _BumpMap);</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">// half3x3(tangent, binormal, normal)</span><br><span class="line">o.tangentToWorld = CreateTangentToWorldPerVertex(worldNormal, worldTangent.xyz, worldTangent.w);</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>把uv都pack到TEXCOORD0</li><li>在顶点处建立tangentToWorld矩阵</li></ul><h3 id="BRDF"><a href="#BRDF" class="headerlink" title="BRDF"></a>BRDF</h3><p>UnityStandardBRDF.cginc 的 BRDF1_Unity_PBS</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> UNITY_HANDLE_CORRECTLY_NEGATIVE_NDOTV</span></span><br><span class="line"><span class="comment">// The amount we shift the normal toward the view vector is defined by the dot product.</span></span><br><span class="line">half shiftAmount = dot(normal, viewDir);</span><br><span class="line">normal = shiftAmount &lt; <span class="number">0.0f</span> ? normal + viewDir * (-shiftAmount + <span class="number">1e-5</span>f) : normal;</span><br><span class="line"><span class="comment">// A re-normalization should be applied here but as the shift is small we don't do it to save ALU.</span></span><br><span class="line"><span class="comment">//normal = normalize(normal);</span></span><br><span class="line"></span><br><span class="line">half nv = saturate(dot(normal, viewDir)); <span class="comment">// <span class="doctag">TODO:</span> this saturate should no be necessary here</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">half nv = <span class="built_in">abs</span>(dot(normal, viewDir));    <span class="comment">// This abs allow to limit artifact</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">half nl = saturate(dot(normal, lightDir));</span><br><span class="line">half nh = saturate(dot(normal, halfDir));</span><br><span class="line"></span><br><span class="line">half lv = saturate(dot(lightDir, viewDir));</span><br><span class="line">half lh = saturate(dot(lightDir, halfDir));</span><br><span class="line"></span><br><span class="line">half diffuseTerm = DisneyDiffuse(nv, nl, lh, perceptualRoughness) * nl;</span><br><span class="line"></span><br><span class="line">half roughness = PerceptualRoughnessToRoughness(perceptualRoughness);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> UNITY_BRDF_GGX</span></span><br><span class="line">half V = SmithJointGGXVisibilityTerm (nl, nv, roughness);</span><br><span class="line">half D = GGXTerm (nh, roughness);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="comment">// Legacy</span></span><br><span class="line">half V = SmithBeckmannVisibilityTerm (nl, nv, roughness);</span><br><span class="line">half D = NDFBlinnPhongNormalizedTerm (nh, PerceptualRoughnessToSpecPower(perceptualRoughness));</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">half specularTerm = V * D * UNITY_PI; <span class="comment">// Torrance-Sparrow model, Fresnel is applied later</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> UNITY_COLORSPACE_GAMMA</span></span><br><span class="line">specularTerm = <span class="built_in">sqrt</span>(max(<span class="number">1e-4</span>h, specularTerm));</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// specularTerm * nl can be NaN on Metal in some cases, use max() to make sure it's a sane value</span></span><br><span class="line">specularTerm = max(<span class="number">0</span>, specularTerm * nl);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(_SPECULARHIGHLIGHTS_OFF)</span></span><br><span class="line">specularTerm = <span class="number">0.0</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><h3 id="Metallic-amp-Specular"><a href="#Metallic-amp-Specular" class="headerlink" title="Metallic &amp; Specular"></a>Metallic &amp; Specular</h3><p>Metallic<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fixed4 metallicGlossTex = tex2D(_MetallicGlossMap, uv);</span><br><span class="line">half metallic = _Metallic * metallicGlossTex.r;</span><br><span class="line">half smoothness = _Glossiness * metallicGlossTex.a;</span><br><span class="line"></span><br><span class="line">half oneMinusDielectricSpec = unity_ColorSpaceDielectricSpec.a;</span><br><span class="line">half oneMinusReflectivity = oneMinusDielectricSpec - metallic * oneMinusDielectricSpec;</span><br><span class="line">fixed3 specColor = lerp (unity_ColorSpaceDielectricSpec.rgb, tex.rgb, metallic);</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">half3 diffColor = tex * oneMinusReflectivity * occ;</span><br></pre></td></tr></table></figure></p><p>Specular<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fixed4 specTex = tex2D(_SpecGlossMap, uv);</span><br><span class="line">fixed3 specColor = specTex.rgb;</span><br><span class="line">half smoothness = _Glossiness * specTex.a;</span><br><span class="line"></span><br><span class="line">half oneMinusReflectivity = <span class="number">1</span> - SpecularStrength(specColor);</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// EnergyConservationBetweenDiffuseAndSpecular</span></span><br><span class="line">half3 diffColor = tex * (half3(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>) - specColor) * occ;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
        <tags>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>怎样画煎蛋</title>
      <link href="/2018/05/04/20180504-Jiandan/"/>
      <url>/2018/05/04/20180504-Jiandan/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/煎蛋的画法/dan00.jpg" alt></p><a id="more"></a><p><img src="/img/煎蛋的画法/dan01.jpg" alt><br><img src="/img/煎蛋的画法/dan02.jpg" alt><br><img src="/img/煎蛋的画法/dan03.jpg" alt><br><img src="/img/煎蛋的画法/dan04.jpg" alt><br><img src="/img/煎蛋的画法/dan05.jpg" alt><br><img src="/img/煎蛋的画法/dan06.jpg" alt><br><img src="/img/煎蛋的画法/dan07.jpg" alt><br><img src="/img/煎蛋的画法/dan08.jpg" alt><br><img src="/img/煎蛋的画法/dan09.jpg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> 画 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rules of Play 读书笔记</title>
      <link href="/2018/04/25/20180425-RulesofPlay/"/>
      <url>/2018/04/25/20180425-RulesofPlay/</url>
      
        <content type="html"><![CDATA[<p>People love pong. Why?</p><ul><li>it is simple to play: approachable and easy to understand</li><li>every game is unique: open-ended with endless possibilities</li><li>elegant representation: a depiction of another game Table Tennis.</li><li>social: two players, makes a great spectator sport</li><li>fun</li><li>cool</li></ul><a id="more"></a><h3 id="What-is-this-book-about"><a href="#What-is-this-book-about" class="headerlink" title="What is this book about"></a>What is this book about</h3><blockquote><p>The focus of a game designer is designing <strong>game play</strong>, conceiving and designing rules and structure that result in an experience for players.</p></blockquote><p><strong>Schemas</strong>: Rules, Play, Culture</p><h3 id="The-Design-Process"><a href="#The-Design-Process" class="headerlink" title="The Design Process"></a>The Design Process</h3><blockquote><p>I don not have a fiexed design process…Finding new ways of working often leads to innovative designs.</p><p><strong>Basic Ingredients and Anchor points</strong>: Game Mechanics, Game Materials, Theme of the World</p><p><strong>Fundamental Design Questions about the Player’s Point of View</strong>: Who am I? What am I trying to achieve? What are my main choices? How do I win?</p><p>In the early design stages I often close my eyes and look into new worlds, new systems, and new materials, searching for exciting game play. I try to develop an understanding of what I want to feel when I play the game: the thrill, the fun, the choices, the challenges.</p></blockquote><p>// ####### Scripted Game System</p><h4 id="Iterative-Design"><a href="#Iterative-Design" class="headerlink" title="Iterative Design"></a>Iterative Design</h4><blockquote><p>Iterative design is a play-based design process…In an iterative methodology, a rough version of the game is rapidly prototyped as early in the design process as possible. This prototype has none of the aesthetic trappings of the final game, but begins to define its fundamental rules and core mechanics. It is not a visual prototype, but an interactive one.<br>Iterative design is a cyclic process that alternates between prototyping, playtesting, evaluation, and refinement</p><p>…it is not possible to fully anticipate play in advance. It is never possible to completely predict the experience of a game…These questions can never be answered by writing a design document or crafting a set of game rules and materials. They can only be answered by way of play.</p><p>Rule of thumb regarding prototyping: a game prototype should be created and playtested, at the absolute latest, 20 percent of the way into a project schedule.</p><p>Prototype your game early. Play it throughtout the entire design process. Have as many other people as you possibly can play your game, and observe them playing.</p></blockquote><h4 id="Playtesting"><a href="#Playtesting" class="headerlink" title="Playtesting"></a>Playtesting</h4><blockquote><p>My primary design technique is to create a game first in my mind and play it there over and over again. This can go on for many weeks. When I feed the need for practical playing experience, I finally build the first prototype and play it with my playtest groups.</p><p>Once the initial concept is properly elaborated, playtesting becomes the core activity of game development.<br>The fun and excitement of playing cannot be calculated in an abstract fashion: it must be experienced.<br>I prepare each of my playtest sessions in great detail — I plan the exact issues I want to monitor and test. During play, I record relevant data about the game flow. Afterwards, I analyze the results and then make necessary or exploratory changes.</p></blockquote><h4 id="More-Changes"><a href="#More-Changes" class="headerlink" title="More Changes"></a>More Changes</h4><blockquote><p>I like my game designs to begin with elaborate concepts and too many features, and then later streamline the game play, only retaining the best parts of the design.</p></blockquote><h3 id="Meaningful-Play"><a href="#Meaningful-Play" class="headerlink" title="Meaningful Play"></a>Meaningful Play</h3><blockquote><p>We have only to watch young dogs to see that all the essentials of human play are present in their merry gambols…keep to the rule…pretend…plainly experience tremendous fun and enjoyment.</p></blockquote><p><strong>the goal of successful game design is the creation of meaningful play.</strong></p><p><strong>Meaningful Play</strong></p><ol><li>Meaningful play in a game emerges from the relationship between player action and system outcome; it is the process by which a player takes action within the designed system of a game and the system responds to the action. the meaning of an action in a game resides in the relationship between action and outcome.</li><li>Meaningful play occurs when the relationships between actions and outcomes in a game are both discernable and integrated into the larger context of the game. Creating meaningful play is the goal of successful game design.</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>省电策略</title>
      <link href="/2018/04/19/20180419-TAThoughts/"/>
      <url>/2018/04/19/20180419-TAThoughts/</url>
      
        <content type="html"><![CDATA[<h5 id="帧率"><a href="#帧率" class="headerlink" title="帧率"></a>帧率</h5><p>关闭VSync<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Application.targetFrameRate = 60;</span><br></pre></td></tr></table></figure></p><p>不需要高帧率的场景<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Application.targetFrameRate = 10;</span><br></pre></td></tr></table></figure></p><p><a href="http://www.moddb.com/tutorials/simple-battery-life-and-energy-optimization-for-mobile-games-using-unity" target="_blank" rel="noopener">source</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Setting the rendering path to &quot;Vertex lit&quot; seemed to decrease battery usage by 50% on some devices.</span><br><span class="line">This choice was suitable to my game because I&apos;m not using any light, shadows or lightmap.</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在家发现中学时的笔记</title>
      <link href="/2018/02/23/20180223-GaoZhongBiJi/"/>
      <url>/2018/02/23/20180223-GaoZhongBiJi/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/drawings/mmexport1547456253728.jpg" alt></p><a id="more"></a><p><img src="/img/drawings/mmexport1547456249011.jpg" alt><br><img src="/img/drawings/mmexport1547456257531.jpg" alt><br><img src="/img/drawings/mmexport1547456260771.jpg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> 画 </tag>
            
            <tag> 脑洞 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Level Up 读书笔记</title>
      <link href="/2018/01/04/20180104-LevelUp/"/>
      <url>/2018/01/04/20180104-LevelUp/</url>
      
        <content type="html"><![CDATA[<p>第五章之前有很多精彩实用的内容，但从第五章起很多都是像百科一样在罗列一些比较基本的东西了。</p><hr><p>Game Designers have more Fun</p><a id="more"></a><h5 id="Team"><a href="#Team" class="headerlink" title="Team"></a>Team</h5><p><strong>Development Team</strong><br>Programmer Artist Designer Producer Tester Composer Sound Designer Writer</p><p><strong>Publising Positions</strong><br>Product Manager, Creative Manager, Art Director, Technical Director,  Business Development Staff, Lawyer, QA Manager…</p><h5 id="Ideas"><a href="#Ideas" class="headerlink" title="Ideas"></a>Ideas</h5><blockquote><p>Many game ideas often sound stupid … never dismiss a game idea, even if it does sound stupid.</p></blockquote><blockquote><p>List of things to do to get inspired:</p><ol><li>Read something you normally wouldn’t read.</li><li>Take a walk, drive or shower.</li><li>Attend a lecture.</li><li>Play a game, preferably a bad one. Sometimes it takes several iterations on an idea before it works successfully.</li><li>Regardless of the above, follow your passion.</li></ol></blockquote><blockquote><p>… all good game characters are wish fulfillment. They give the player a chance to be something they aren’t in the real world.<br>Games should make players feel something that they aren’ t in the real world: powerful, smart, sneaky, successful, rich, bad, or heroic.</p></blockquote><blockquote><p><strong>The Theory of Un-Fun</strong> states: start with a “fun” idea. As you develop the game, if you find something in the game that is not fun (or un-fun), then remove it.<br>When you have removed all of the un-fun, then all that should be left is the fun.</p></blockquote><h5 id="Story"><a href="#Story" class="headerlink" title="Story"></a>Story</h5><p><strong>Production Triangle</strong>: Choose Two [Time, Quality, Money]</p><p><strong>The Triangle of Weirdness</strong>: Choose One [Chatacters, Activities, World]</p><p><strong>Title</strong><br><blockquote><ol><li><strong>The literal title</strong> makes it easy to figure out where the title came from. It can be the name of your main character…It can be the main location of your game…Or you can name your game after a gameplay activity or component…</li><li><strong>The action/cool title</strong> is a title that captures the spirit of the game without mentioning any of the game characters or locations. I think games like Darksiders, Brutal Legend, and Gears of War all have cool titles.</li><li><strong>The punny title</strong> is a title that makes you appreciate the cleverness of the title. Just Cause, Half Life, and System Shock are all good examples of punny titles…</li><li><strong>The “purple cow” title</strong> is one that makes your customer stop in their tracks and stare…LittleBigPlanet, Far Cry, and Resident Evil. The advantage to a purple cow title is…It’s going to be a long time before anyone thinks of using the word Halo in their game title…</li></ol><p>…shorter titles are better than longer ones…keep them to two or three syllables like Star Wars, Don-kee Kong, Pac-Man or Hey-lo.</p></blockquote></p><h5 id="Paperwork"><a href="#Paperwork" class="headerlink" title="Paperwork"></a>Paperwork</h5><blockquote><p>Making games is like making chili</p></blockquote><blockquote><p>the first rule of responsible game design: love thy player</p></blockquote><h5 id="Game-Design-Document-GGD"><a href="#Game-Design-Document-GGD" class="headerlink" title="Game Design Document (GGD)"></a>Game Design Document (GGD)</h5><blockquote><p>The goal of great game design documentation is communication:<br>communication to the player, to your team members, and to your publishing partners.</p></blockquote><p>####### One-Sheet<br><blockquote><p>1.Game title<br>2.Intended game systems<br>3.Target age of players<br>4.Intended Entertainment Software Rating Board (ESRB) rating<br>5.A summary of the game ’ s story, focusing on gameplay<br>6.Distinct modes of gameplay<br>7.Unique selling points<br>8.Competitive products.</p></blockquote></p><p>####### Ten-Pager<br><blockquote><p>Production Team | Marketing/Executives<br>Provide clear diagrams of gameplay | Show exciting conceptual images<br>Use short, punchy sentences | Text in bullet points form<br>Use specific terminology to get your intention clearly across | Use vivid, descriptive examples<br>Compare gameplay to appropriate games, even vintage titles | Use successful, modern games as comparative titles</p></blockquote></p><p><strong>The Rule of Threes</strong><br><blockquote><p>THREE IS A MAGIC NUMBER</p></blockquote></p><p><strong>Ten-Pager Outline</strong><br>PAGE 1: TITLE PAGE<br><blockquote><p>•  Game title<br>•  Intended game systems<br>•  Target age of players<br>•  Intended ESRB rating<br>•  Projected ship date.<br>Game Logos</p></blockquote><br>PAGE 2: GAME OUTLINE<br><blockquote><p>•  <strong>Game story summary</strong><br>•  <strong>Game flow</strong> Briefly describe the flow of the game’s action in the context of the locations the player will find themselves in… who they are playing, the camera angle, and genre of gameplay as well as painting a picture of game locations and the player’s goals.</p></blockquote><br>PAGE 3: CHARACTER<br>PAGE 4: GAMEPLAY<br>PAGE 5: GAME WORLD<br>PAGE 6: GAME EXPERIENCE<br><blockquote><p>•  What does the player first see when they start the game?<br>•  What emotions/moods are meant to be invoked by your game?<br>•  How is music and sound used to convey your game’s feel?<br>•  How does the player navigate the shell of the game? Include a simple flow chart diagram of how the player would navigate this interface. (You’d be surprised how many games have lousy interfaces because the team never thought about it!)</p></blockquote><br>PAGE 7: GAMEPLAY MECHANICS<br><blockquote><p>A <strong>mechanic</strong> is something that the player interacts with to create or aid with gameplay…moving platforms, opening doors, rope swings, slippery ice.<br>A <strong>hazard</strong> is a mechanic that can harm or kill the player but doesn’t possess intelligence.<br>A <strong>power-up</strong> is an item collected by the player to help them with gameplay.<br><strong>Collectibles</strong> are items that are collected by the player that don’t have an immediate impact on gameplay.</p></blockquote><br>PAGE 8: ENEMIES<br><blockquote><p>If a hazard uses AI, then it qualifies as an <strong>enemy character</strong>. What enemies do we find in the game world? What makes them unique? How does the player overcome them?<br><strong>Boss characters</strong> are larger, more fearsome enemies usually found at the end of levels or chapters.</p></blockquote><br>PAGE 9: CUTSCENES<br>PAGE 10: BONUS MATERIALS</p><p>####### The Game Design Document<br><blockquote><p>…eventually YOU will need to read your own GDD.<br>…my team mates understood concepts quickly when I drew pictures for them.</p></blockquote><br><blockquote><p>•  Storyboards.<br>•  Diagrams.<br>•  Animatics.<br>•  The beat chart.<br>•  The team Wiki.</p></blockquote><br><strong>EVERYTHING IS LIQUID</strong><br><blockquote><p>At a certain point, writing things down becomes counterproductive and it all becomes about finishing the game. But you need a starting point and a GDD gives you that launching pad from which to soar.<br>…the MOST IMPORTANT PART OF A GAME DESIGNER’S JOB IS COMMUNICATION.</p></blockquote></p><p>####### Gameplay Progression</p><p>…how the gameplay unfolds to the player over the course of the game. How this happens is called <strong>progression</strong>.</p><p><strong>The Beat Chart</strong><br><blockquote><p>•  Clumping : too many new enemies or mechanics being introduced at once. Spread these out over the course of the game.<br>•  Sameyness : too many identical combinations of enemies and mechanics. You want to mix things up to keep interaction fresh.<br>•  Alternate your time of day and color schemes. If you have too many of the same lighting or color schemes in a row, things are going to feel and look repetitive.<br>•  Alternate your music tracks. The player is going to get bored listening to the same music over and over again.<br>•  Problems in game economy<br>•  Mechanics and enemies should be introduced in conjunction with the items and abilities required to defeat them.<br>•  When will the player have “everything” in the game?…75% through the game so the last quarter lets the player use all of their cool stuff.<br>•  As a rule of thumb, I try to introduce two or three new mechanics, enemies, and rewards per level.</p></blockquote></p><p><strong>Dont Be a Schmuck</strong></p><blockquote><p>•  A good idea can come from anywhere.<br>•  Make a decision and stick with it.<br>•  Update often.<br>•  Tackle the tough ones first.<br>•  Trust your instincts.<br>•  Respect the abilities of your peers and be mindful of their limitations…talk to your team mates about what they’d like to work on.<br>•  Save often and always.<br>•  Stay organized.<br>•  Be prepared.</p></blockquote><h5 id="Character"><a href="#Character" class="headerlink" title="Character"></a>Character</h5><p><strong>Three Cs</strong>:</p><ol><li>Character</li><li>Camera</li><li>Control<br>If you change any of the Three Cs during production, you risk massive problems with your gameplay.</li></ol><p><strong>FORM FOLLOWS FUNCTION</strong></p><p>silhouette</p><p>Personality**: Humorous character, Heroic character, Badass character</p><p><strong>The power of customization</strong><br>…let the player customize their character furthers their feeling of ownership.</p><p><strong>metrics</strong> </p><p><strong>shadow</strong></p><p><strong>second character</strong> playable or companion</p><h5 id="Camera"><a href="#Camera" class="headerlink" title="Camera"></a>Camera</h5><h5 id="Controls"><a href="#Controls" class="headerlink" title="Controls"></a>Controls</h5><h5 id="HUD-and-Icon"><a href="#HUD-and-Icon" class="headerlink" title="HUD and Icon"></a>HUD and Icon</h5><p><strong>HUDs</strong> …be carefull of the “bracketing effect”…<br><strong>Loading screen</strong> concept art, trivia questions, game map, character bio…</p><h5 id="Level-Design"><a href="#Level-Design" class="headerlink" title="Level Design"></a>Level Design</h5><h5 id="Mechanics"><a href="#Mechanics" class="headerlink" title="Mechanics"></a>Mechanics</h5>]]></content>
      
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游戏设计艺术读书笔记 Notes of Art of Game Design</title>
      <link href="/2018/01/03/20180103-ArtofGameDesign/"/>
      <url>/2018/01/03/20180103-ArtofGameDesign/</url>
      
        <content type="html"><![CDATA[<p>There is only one path to becoming a game designer, and that is the path of designing games — and more to the point, designing games that people really like.<br>That means that simply jotting down your game idea isn’t enough. You must build the game, play it yourself, and let others play it.<br>When it doesn’t satisfy (and it won’t), you must change it. And change it. And change it again, dozens of times, until you have created a game that people actually enjoy playing.<br>When you have been through this a few times, then you will start to understand what game design is.<br>There’s an saying among game designers: “Your first ten games will suck — so get them out of the way fast.”</p><a id="more"></a><h6 id="Skills-a-Game-Designer-Need"><a href="#Skills-a-Game-Designer-Need" class="headerlink" title="Skills a Game Designer Need"></a>Skills a Game Designer Need</h6><p><strong>Communication</strong>     - Communication, Listening, Public Speaking<br><strong>Arts</strong>             - Visual Arts, Animation, Cinematography, Architecture, Sound Design, Music<br><strong>Technical</strong>         - Engineering, Technical Writing, Mathematics<br><strong>Creativity</strong>         - Creative Writing, Brainstorming, Psychology, History, Anthropology<br><strong>Business</strong>         - Business, Management, Economics</p><blockquote><p>Lens #1: The Lens of Emotion<br>People may forget what you said, but they’ll never forget how you made them feel. —Maya Angelou<br>● What emotions would I like my player to experience? Why?<br>● What emotions are players (including me) having when they play now? Why?<br>● How can I bridge the gap between the emotions players are having and the emotions I’d like them to have?</p></blockquote><blockquote><p>Lens #2: The Lens of Essential Experience<br>● What experience do I want the player to have?<br>● What is essential to that experience?<br>● How can my game capture that essence?</p></blockquote><h5 id="Venue"><a href="#Venue" class="headerlink" title="Venue"></a>Venue</h5><p>It takes a bit of a mental shift to look past the technologies we use and instead to see the patterns of how we use them</p><blockquote><p>Lens #3: The Lens of the Venue<br>The places that we play exert tremendous influence on the design of our games.<br>To make sure you aren’t designing in a vacuum, ask yourself these questions:<br>● What type of venue best suits the game I’m trying to create?<br>● Does my venue have special properties that will influence my game?<br>● What elements of my game are in harmony with my venue? What elements are not?</p></blockquote><h5 id="What-is-a-Game"><a href="#What-is-a-Game" class="headerlink" title="What is a Game"></a>What is a Game</h5><p><strong>Fun is pleasure with surprises</strong></p><blockquote><p>Lens #4: The Lens of Surprise<br>Surprise is so basic that we can easily forget about it. Use this lens to remind yourself to fill your game with interesting surprises.<br>Ask yourself these questions:<br>● What will surprise players when they play my game?<br>● Does the story in my game have surprises? Do the game rules? Does the artwork? The technology?<br>● Do your rules give players ways to surprise each other?<br>● Do your rules give players ways to surprise themselves?<br>Surprise is a crucial part of all entertainment — it is at the root of humor, strategy, and problem solving. Our brains are hardwired to enjoy surprises.<br>In an experiment where participants received sprays of sugar water or plain water into their mouths, the participants who received random sprays considered the experience much more pleasurable than participants who received the sprays according to a fixed pattern, even though the same amount of sugar was delivered.<br>In other experiments, brain scans revealed that even during unpleasant surprises, the pleasure centers of the brain are triggered.</p></blockquote><blockquote><p>Lens #5: The Lens of Fun<br>To maximize your game’s fun, ask yourself these questions:<br>● What parts of my game are fun? Why?<br>● What parts need to be more fun?</p></blockquote><p><strong>Work and play … become equivalent to servitude and freedom.</strong><br><strong>Play is manipulation that indulges curiosity.</strong></p><blockquote><p>Lens #6: The Lens of Curiosity<br>To use this lens, think about the player’s true motivations — not just the goals your game has set forth, but the reason the player wants to achieve those goals.<br>● What questions does my game put into the player’s mind?<br>● What am I doing to make them care about these questions?<br>● What can I do to make them invent even more questions?</p></blockquote><p><strong>[A game is] an interactive structure of endogenous meaning that requires players to struggle toward a goal.</strong></p><blockquote><p>Lens #7: The Lens of Endogenous Value<br>To use this lens, think about your players’ feelings about items, objects, and scoring in your game. Ask yourself these questions:<br>● What is valuable to the players in my game?<br>● How can I make it more valuable to them?<br>● What is the relationship between value in the game and the player’s motivations?<br>Remember, the value of the items and score in the game is a direct reflection of how much players care about succeeding in your game.<br>By thinking about what the players really care about and why, you can often get insights about how your game can improve.</p></blockquote><p>A game is a closed, formal system, that engages players in structured conflict, and resolves in an unequal outcome.<br>– Tracy Fullerton, Chris Swain, and Steven Hoffman</p><p>Q1. Games are entered willfully.<br>Q2. Games have goals.<br>Q3. Games have conflict.<br>Q4. Games have rules.<br>Q5. Games can be won and lost.<br>Q6. Games are interactive.<br>Q7. Games have challenge.<br>Q8. Games can create their own internal value.<br>Q9. Games engage players.<br>Q10. Games are closed, formal systems.</p><p>“I like playing with my friends” “I like the physical activity” “I like feeing immersed in another world” “<strong>I like solving problems.</strong>“<br>The enjoyment of problem solving seems to be an evolved survival mechanism.</p><p>One of the first things we do is to state the problem we are trying to solve, that is, define a clear goal (Q2). Next, we frame the problem. We determine its boundaries and the nature of the problem space. We also determine what methods we are allowed to use to solve the problem; that is, we determine the rules of the problem (Q4) …</p><p><strong>A game is a problem-solving activity, approached with a playful attitude.</strong></p><blockquote><p>Lens #8: The Lens of Problem Solving<br>To use this lens, think about the problems your players must solve to succeed at your game, for every game has problems to solve. Ask yourself these questions:<br>● What problems does my game ask the player to solve?<br>● Are there hidden problems to solve that arise as part of gameplay?<br>● How can my game generate new problems so that players keep coming back?</p></blockquote><h6 id="The-Four-Basic-Elements"><a href="#The-Four-Basic-Elements" class="headerlink" title="The Four Basic Elements"></a>The Four Basic Elements</h6><pre><code>More Visible Aesthetics      |    </code></pre><p>Mechanics ——-+——– Story<br>                  |<br>             Technology<br>            Less Visible</p><blockquote><p>Lens #9: The Lens of the Elemental Tetrad<br>To use this lens, take stock of what your game is truly made of. Consider each element separately, and then all of them together as a whole.<br>Ask yourself these questions:<br>● Is my game design using elements of all four types?<br>● Could my design be improved by enhancing elements in one or more of the categories?<br>● Are the four elements in harmony, reinforcing each other, and working together toward a common theme?</p><p>Lens #10: The Lens of Holographic Design<br>To use this lens, you must see everything in your game at once: the four elements and the player experience, as well as how they interrelate.<br>It is acceptable to shift your focus from skin to skeleton and back again, but it is far better to view your game and experience holographically.<br>Ask yourself these questions:<br>● What elements of the game make the experience enjoyable?<br>● What elements of the game detract from the experience?<br>● How can I change game elements to improve the experience?</p></blockquote><h5 id="Theme"><a href="#Theme" class="headerlink" title="Theme"></a>Theme</h5><blockquote><p>To write a mighty book, you must choose a mighty theme.<br>– Herman Melville</p></blockquote><p>Unifying Themes<br>Step 1: Figure out what your theme is.<br>Step 2: Use every means possible to reinforce that theme.</p><p>Most game themes are experience-based, that is, the goal of the design is to deliver an essential experience to the player.</p><blockquote><p>Lens #11: The Lens of Unification<br>● What is my theme?<br>● Am I using every means possible to reinforce that theme?<br>The Lens of Unification works very well with the Lens of the Elemental Tetrad. Use the tetrad to separate out the elements of your game, so you can more easily study them from the perspective of a unified theme.</p></blockquote><p><strong>Resonance</strong></p><p>But there is another kind of theme that can be just as resonant as an experience-based theme; sometimes more so. This is the truth-based theme.<br>Consider the movie Titanic … The main theme is not experience-based. Instead, it is a simple statement … “Love is more important than life, and stronger than death.”<br>This is a powerful statement. But it is a statement that many of us believe deeply in our heart of hearts. It is certainly not a scientific truth, but for many, it is a deeply held, though rarely expressed, personal truth.</p><blockquote><p>Lens #12: The Lens of Resonance<br>To use the Lens of Resonance, you must look for hidden power.<br>Ask yourself these questions:<br>● What is it about my game that feels powerful and special?<br>● When I describe my game to people, what ideas get them really excited?<br>● If I had no constraints of any kind, what would this game be like?<br>● I have certain instincts about how this game should be. What is driving those instincts?<br>The Lens of Resonance is a quiet, delicate instrument. It is a tool for listening to yourself and listening to others. We bury important things deep inside ourselves, and when something causes them to resonate, it shakes us to our very core. The fact that these things are hidden gives them power, but also makes them hard for us to find.</p></blockquote><h5 id="Idea"><a href="#Idea" class="headerlink" title="Idea"></a>Idea</h5><p>“The secret is: don’t look to other jugglers for inspiration — look everywhere else”</p><blockquote><p>Lens #13: The Lens of Infinite Inspiration<br>When you know how to listen, everybody is the guru. – Ram Dass<br>To use this lens, stop looking at your game, and stop looking at games like it. Instead, look everywhere else.<br>Ask yourself these questions:<br>● What is an experience I have had in my life that I would want to share with others?<br>● In what small way can I capture the essence of that experience and put it into my game?<br>Using this lens requires an open mind and a big imagination. You need to search you feelings and observe everything around you. You must be willing to try the impossible — for surely it is impossible for a roll of the dice to capture the excitement of a swordfight, or for a videogame to make a player feel afraid of the dark — isn’t it? Use this lens to find the non-game experiences that will inspire your game. Your choices in the different quadrants of the tetrad (technology, mechanics, story, and aesthetics) can each be united by a single inspiration, or each can build on different inspirations, blending them together to create something entirely new. When you have concrete visions based on real life that guide your decision making, your experience will acquire an undeniable power, strength, and uniqueness. This lens works hand in hand with Lens #1: Essential Experience. Use the Lens of Infinite Inspiration to seek and find beautiful experiences, and the Lens of Essential Experience to bring them into your game.</p></blockquote><p><strong>State the Problem</strong><br><blockquote><p>People who come up with clever solutions are almost always the same people who take the time to figure out the real problem.<br>Three advantages of clearly stating your problem:</p><ol><li>Broader creative space. Most people jump to solutions too fast and start their creative process there. If you start your process at the problem instead of at a proposed solution, you will be able to explore a broader creative space and find solutions that are hiding where no one else is looking.</li><li>Clear measurement. You have a clear measurement of the quality of proposed ideas: How well do they solve the problem?</li><li>Better communication. When you are designing with a team, communication is much easier if the problem has been clearly stated. Very often, collaborators will be trying to solve quite different problems and not realize it if the problem has not been clearly stated.</li></ol></blockquote></p><blockquote><p>Lens #14: The Lens of the Problem Statement<br>To use this lens, think of your game as the solution to a problem.<br>Ask yourself these questions:<br>● What problem, or problems, am I really trying to solve?<br>● Have I been making assumptions about this game that really have nothing to do with its true purpose?<br>● Is a game really the best solution? Why?<br>● How will I be able to tell if the problem is solved?<br>Defining the constraints and goals for your game as a problem statement can help move you to a clear game design much more quickly.</p></blockquote><p><strong>Subconscious</strong></p><p>Subconscious Tip</p><p>#1: Pay Attention</p><p>#2: Record Your Ideas</p><p>#3: Manage Its Appetites (Judiciously)</p><p>#4: Sleep</p><p>#5: Don’t Push Too Hard</p><p><strong>Brainstorming</strong></p><p>Brainstorm Tip</p><p>#1: The Write Answer</p><p>#2: Write or Type?</p><p>#3: Sketch</p><p>#4: Toys</p><p>#5: Change Your Perspective</p><p>#6: Immerse Yourself</p><p>#7: Crack Jokes</p><p>#8: Spare No Expense</p><p>#9: The Writing on the Wall</p><p>#10: The Space Remembers</p><p>#11: Write Everything</p><p>#12: Number Your Lists</p><p>#13: Mix and Match Categories</p><p>#14: Talk To Yourself</p><p>#15: Find a Partner</p><h5 id="Iteration"><a href="#Iteration" class="headerlink" title="Iteration"></a>Iteration</h5><ol><li>pick an idea and decide you are going to make it happen</li><li>be ready to reverse your decision when you realize it is wrong</li></ol><p><strong>The Eight Filters</strong></p><blockquote><p>Lens # 15: The Lens of the Eight Filters<br>To use this lens, you must consider the many constraints your design must satisfy. You can only call your design finished when it can pass through all eight filters without requiring a change.<br>Ask yourself the eight key questions:<br>● Does this game feel right?<br>● Will the intended audience like this game enough?<br>● Is this a well-designed game?<br>● Is this game novel enough?<br>● Will this game sell?<br>● Is it technically possible to build this game?<br>● Does this game meet our social and community goals?<br>● Do the playtesters enjoy this game enough?<br>In some situations, there may be still more filters; for example, an educational game will also have to answer questions like “Does this game teach what it is supposed to?” If your design requires more filters, don’t neglect them.</p></blockquote><p><strong>The Rule of the Loop</strong>: The more times you test and improve your design, the better your game will be.<br><blockquote><p>● Loop Question 1: How can I make every loop count?<br>● Loop Question 2: How can I loop as fast as possible?</p></blockquote></p><p><strong>The Spiral Model, Barry Boehm, 1986</strong></p><ol><li>Come up with a basic design.</li><li>Figure out the greatest risks in your design.</li><li>Build prototypes that mitigate those risks.</li><li>Test the prototypes.</li><li>Come up with a more detailed design based on what you have learned.</li><li>Return to step 2.</li></ol><p><strong> Mechanic might not be as fun as we think. </strong><br>Have a programmer make a very abstract version of this gameplay mechanic, with simple geometric shapes … You can probably have a working game in a week or two, and start answering questions about whether it is fun right away.</p><p><strong> (Technical limits) The game engine might not be able to handle XXX </strong><br>Build a quick prototype that does nothing but XXX, to see if the engine can handle it. This prototype has no gameplay; it is purely to test technical limits. If it can handle it, great! If it can’t, you can figure out a solution now, before any art has been generated. Again, this prototype will be a throwaway.</p><p><strong> Creating all the art assets might take more than we have </strong><br>Have an artist create one house and one animated character immediately to see how long it takes, and if it takes longer than you can afford, change your design immediately.</p><p><strong> We aren’t sure people will like our characters and story. </strong><br>An art prototype … Have your artists draw some concept art, or produce test renders of your characters and settings. Create some storyboards that show how the story progresses. Once you have these, start showing them to people (hopefully people in your target demographic) and gauge their reactions. Figure out what they like, don’t like, and why. Maybe they like the look of the main character, but hate his attitude. Maybe the villain is exciting, but the story is boring.</p><blockquote><p>Lens # 16: The Lens of Risk Mitigation<br>To use this lens, stop thinking positively, and start seriously considering the things that could go horribly wrong with your game.<br>Ask yourself these questions:<br>● What could keep this game from being great?<br>● How can we stop that from happening?<br>Risk management is hard. It means you have to face up to the problems you would most like to avoid, and solve them immediately. But if you discipline yourself to do it, you’ll loop more times, and more usefully, and get a better game as a result. It is tempting to ignore potential problems and just work on the parts of your game you feel most confident about. You must resist this temptation and focus on the parts of your game that are in danger.</p></blockquote><p><strong>Prototyping Tip</strong></p><p>1: Answer a Question<br>2: Forget Quality<br><blockquote><p>When working on a prototype all that matters is whether it answers the question. The faster it can do that, the better … polishing your prototype may even make things worse. Playtesters (and colleagues) are more likely to point out problems with something that looks rough than with something that looks polished.</p></blockquote><br>3: Don’t Get Attached<br><blockquote><p>The first versions of your system … (are) prototypes that you will need to discard before you build the system the “right” way… you won’t throw out everything — you’ll keep little pieces here and there that really work and you’ll combine them to make something greater.</p></blockquote><br>4: Prioritize Your Prototypes<br><blockquote><p>the biggest risks first….the “upstream” prototype is your highest priority.</p></blockquote><br>5: Parallelize Prototypes Productively<br>6: It Doesn’t Have to be Digital<br>7: Pick a “Fast Loop” Game Engine<br>8: Build the Toy First</p><blockquote><p>Lens # 17: The Lens of the Toy<br>To use this lens, stop thinking about whether your game is fun to play, and start thinking about whether it is fun to play with.<br>Ask yourself these questions:<br>● If my game had no goal, would it be fun at all? If not, how can I change that?<br>● When people see my game, do they want to start interacting with it, even before they know what to do? If not, how can I change that?<br>There are two ways to use the Lens of the Toy. One way is to use it on an existing game, to figure out how to add more toy-like qualities to it — that is, how to make it more approachable, and more fun to manipulate. But the second way, the braver way, is to use it to invent and create new toys before you even have any idea what games will be played with them. This is risky if you are on a schedule — but if you are not, it can be a great “divining rod” to help you find wonderful games you might not have discovered otherwise.</p></blockquote><p><strong>Closing the Loop</strong></p><p>Game designer Mark Cerny … argues that you are in pre-production until you have finished two publishable levels of your game, complete with all necessary features… usually this point is generally reached when 30% of the necessary budget has been spent.</p><p><strong>50% rules</strong></p><ol><li>When planning, make sure you could have a shipable game at 50% budget.</li><li>All core gameplay elements should be fully playable at 50% schedule.</li></ol><blockquote><p> Lens #18: The Lens of Passion<br>At the end of each prototype, when  you are carefully mitigating risks and planning what to do next, don’t forget to check how you feel about your game with these important questions:<br>● Am I filled with blinding passion about how great this game will be?<br>● If I’ve lost the passion, can I find it again?<br>● If the passion isn’t coming back, shouldn’t I be doing something else?<br>At the end of every sprint, when you are studying your prototypes and planning what to do next, you must remember to also do a “passion check.” Passion is the way your subconscious tells you that it is excited about your game. If the passion has gone away, something has gone wrong — if you can’t figure out what it is, it is very likely your game will be dead on arrival. Passion has its dangers — it is an irrational emotion, after all, but you must take it seriously, for more often than not, passion is what knocks down obstacles and carries a game to success.</p></blockquote><h5 id="Player"><a href="#Player" class="headerlink" title="Player"></a>Player</h5><p>Einstein’s Violin<br>Project Yourself</p><p><strong>LeBlanc’s Taxonomy of Game Pleasures</strong></p><ol><li>Sensation<blockquote><p>Sensory pleasure is often the pleasure of the toy (see Lens #15). This pleasure cannot make a bad game into a good one, but it can often make a good game into a better one.</p></blockquote></li><li>Fantasy</li><li>Narrative</li><li>Challenge</li><li>Fellowship</li><li>Discovery</li><li>Expression</li><li>Submission</li></ol><p><strong>Misogynist?</strong><br>Males: Mastery, Competition, Destruction, Spatial Puzzles, Trial and Error<br>Females: Emotion, Real World, Nurturing, Dialog and Verbal Puzzles, Learning by Example, Social</p><blockquote><p>Lens #19: The Lens of the Player<br>To use this lens, stop thinking about your game, and start thinking about your player.<br>Ask yourself these questions about the people who will play your game:<br>● In general, what do they like?<br>● What don’t they like? Why?<br>● What do they expect to see in a game?<br>● If I were in their place, what would I want to see in a game?<br>● What would they like or dislike about my game in particular?<br>A good game designer should always be thinking of the player, and should be an advocate for the player. Skilled designers hold The Lens of the Player and the Lens of Holographic Design in the same hand, thinking about the player, the experience of the game, and the mechanics of the game all at the same time. Thinking about the player is useful, but even more useful is watching them play your game. The more you observe them playing, the more easily you’ll be able to predict what they are going to enjoy.</p></blockquote><p><strong>Bartle’s Taxonomy of Player Types</strong></p><ol><li><strong>♦ Achievers</strong></li><li><strong>♠ Explorers</strong></li><li><strong>♥ Socializers</strong></li><li><p><strong>♣ Killers</strong></p><pre><code>Acting</code></pre><p>  Killers    |    Achievers<br>Players ——–+——– World<br>Socializers  |    Explorers</p><pre><code>Ineracting</code></pre></li></ol><blockquote><p>Lens #20: The Lens of Pleasure<br>To use this lens, think about the kinds of pleasure your game does and does not provide.<br>Ask yourself these questions:<br>● What pleasures does your game give to players? Can these be improved?<br>● What pleasures are missing from your experience? Why? Can they be added?<br>Ultimately, the job of a game is to give pleasure. By going through lists of known pleasures, and considering how well your game delivers each one, you may be inspired to make changes to your game that will increase your players’ enjoyment. Always be on the lookout, though, for unique, unclassified pleasures not found in most games — for one of these might be what gives your game the unique quality it needs.</p></blockquote><h5 id="Experience"><a href="#Experience" class="headerlink" title="Experience"></a>Experience</h5><p><strong>Modeling</strong></p><p><strong>Focus</strong><br><blockquote><p>key components … to put a player into a flow state:<br>● Clear goals.<br>● No distractions.<br>● Direct feedback.<br>● Continuously challenging.</p></blockquote></p><blockquote><p>Lens #21: The Lens of Flow<br>To use this lens, consider what is holding your player’s focus.<br>● Does my game have clear goals? If not, how can I fix that?<br>● Are the goals of the player the same goals I intended?<br>● Are there parts of the game that distract players to the point they forget their goal? If so, can these distractions be reduced, or tied into the game goals?<br>● Does my game provide a steady stream of not-too-easy, not-too-hard challenges, taking into account the fact that the player’s skills may be gradually improving?<br>● Are the player’s skills improving at the rate I had hoped? If not, how can I change that?</p></blockquote><h5 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h5><p><strong>Three mental needs, Ryan and Deci</strong><br><blockquote><p><strong>Competence</strong>: need to feel good at something.<br><strong>Autonomy</strong>: need freedom to do things my own way<br><strong>Relatedness</strong>: need to connect with other people.</p></blockquote></p><blockquote><p>Lens #22: The Lens of Needs<br>To use this lens, stop thinking about your game, and start thinking about what basic human needs it fulfills.<br>● On which levels of Maslow’s hierarchy is my game operating?<br>● How can I make my game fulfill more basic needs than it already is?<br>● On the levels my game is currently operating, how can it fulfill those needs even better?<br>It sounds strange to talk about a game fulfilling basic human needs, but everything that people do is an attempt to fulfill these needs in some way. And keep in mind, some games fulfill needs better than others — your game can’t just promise the need, it must deliver fulfillment of the need. If a player imagines that playing your game is going to make them feel better about themselves, or get to know their friends better, and your game doesn’t deliver on these needs, your player will move on to a game that does.</p></blockquote><p><strong>Wanna vs. Hafta</strong></p><pre><code>          Externalpunishment   |    rewards</code></pre><p>Pain avoiding —-+—- Pleasure seeking<br>        shame     |     fun<br>               Internal</p><blockquote><p>Lens #23: The Lens of Motivation<br>Every game is a complex ecosystem of motivations. To examine them more closely, ask yourself these questions:<br>● What motivations do players have to play my game?<br>● Which motivations are most internal? Which are most external?<br>● Which are pleasure seeking? Which are pain avoiding?<br>● Which motivations support each other?<br>● Which motivations are in conflict?</p></blockquote><p><strong>Novelty</strong></p><blockquote><p>Lens #24: The Lens of Novelty<br>Different isn’t always better, but better is always different. —Scotty Meltzer<br>To ensure you harness the powerful motivation of novelty, ask yourself these questions:<br>● What is novel about my game?<br>● Does my game have novelties throughout or just at the beginning?<br>● Do I have the right mix of the novel and the familiar?<br>● When the novelty wears off, will players still enjoy my game?</p></blockquote><p><strong>Judgment</strong></p><blockquote><p>Lens #25: The Lens of Judgment<br>To decide if your game is a good judge of the players, ask yourself these questions:<br>● What does your game judge about the players?<br>● How does it communicate this judgment?<br>● Do players feel the judgment is fair?<br>● Do they care about the judgment?<br>● Does the judgment make them want to improve?</p></blockquote><h5 id="Mechanics"><a href="#Mechanics" class="headerlink" title="Mechanics"></a>Mechanics</h5><p><strong>Space</strong></p><blockquote><p>Lens #26: The Lens of Functional Space<br>To use this lens, think about the space in which your game really takes place when all surface elements are stripped away.<br>● Is the space of this game discrete or continuous?<br>● How many dimensions does it have?<br>● What are the boundaries of the space?<br>● Are there sub-spaces? How are they connected?<br>● Is there more than one useful way to abstractly model the space of this game?</p></blockquote><p><strong>Time</strong></p><blockquote><p>Lens #27: The Lens of Time<br>It is said that “timing is everything.” Our goal as designers is to create experiences, and experiences are easily spoiled when they are too short or too long, too fast or too slow. ask these questions to make yours just the right length:<br>● What is it that determines the length of my gameplay activities?<br>● are my players frustrated because the game ends too early? How can I change that?<br>● are my players bored because the game goes on too long? How can I change that?<br>● Would clocks or races make my gameplay more exciting?<br>● Time limits can irritate players. Would I better off without time limits?<br>● Would a hierarchy of time structures help my game? That is, several short rounds that together comprise a larger round?<br>Timing can be very difficult to get right, but it can make or break a game. Often, it makes sense to follow the old vaudevillian adage “leave’em wanting more.”</p></blockquote><p><strong>Objects, Attributes and States</strong></p><blockquote><p>Lens #28: The Lens of the State Machine<br>To use this lens, think about what information changes during your game. ask yourself these questions:<br>● What are the objects in my game?<br>● What are the attributes of the objects?<br>● What are the possible states for each attribute?<br>● What triggers the state changes for each attribute?<br>Gameplaying is decision making. Decisions are made based on information. Deciding the different attributes, their states, and what changes them is core to the mechanics of your game.</p></blockquote><p><strong>Secrets (Information)</strong></p><blockquote><p>Lens #29: The Lens of Secrets<br>Change who has what information, and you change your game completely. To use this lens, think about who knows what and why. ask yourself these questions:<br>● What is known by the game only?<br>● What is known by all players?<br>● What is known by some or only one player?<br>● Would changing who knows what information improve my game in some way?<br>Gameplaying is decision making. Decisions are made based on information. Deciding the different attributes, their states, and who knows about them is core to the mechanics of your game. Small changes to who knows what infor- mation can radically change a game, sometimes for the better, sometimes for the worse. Who knows about what attributes can even change over the course of a game—a great way to create drama in your game is to make an important piece of private information suddenly become public.</p></blockquote><p><strong>Action</strong></p><ol><li>Add more verbs</li><li>Verbs that can act on many objects</li><li>Goals that can be achieved more than one way</li><li>Many subjects</li><li>Side effects that change constraints</li></ol><blockquote><p>Lens #30: The Lens of Emergence<br>To make sure your game has interesting qualities of emergence, ask yourself these questions:<br>● How many verbs do my players have?<br>● How many objects can each verb act on?<br>● How many ways can players achieve their goals?<br>● How many subjects do the players control?<br>● How do side effects change constraints?</p></blockquote><blockquote><p>Lens #31: The Lens of Action<br>To use this lens, think about what your players can do and what they can’t and why. ask yourself these questions:<br>● What are the basic actions in my game?<br>● What are the strategic actions?<br>● What strategic actions would I like to see? How can I change my game in order to make those possible?<br>● am I happy with the ratio of strategic to basic actions?<br>● What actions do players wish they could do in my game that they cannot? Can I somehow enable these, either as basic or strategic actions?<br>A game without actions is like a sentence without verbs—nothing happens. Deciding the actions in your game will be the most fundamental decision you can make as a game designer. Tiny changes to these actions will have tremendous ripple effects with the possibility of either creating marvelous emergent gameplay or making a game that is predictable and tedious. Choose your actions carefully, and learn to listen to your game and your players to learn what is made possible by your choices.</p></blockquote><p><strong>Rules</strong></p><ol><li>Operational rules: what the players ‘do’ to play the game</li><li>Foundational rules: abstract, mathematical representation of game state and how and when it changes</li><li>Behavioral rules: “good sportsmanship”, “Unwritten Rules”</li><li>Written rules: interactive tutorials, “How will players learn to play my game?”</li><li>Laws: “tournament rules”</li><li>Official rules</li><li>Advisory rules: “rules of strategy”</li><li>House rules: “feedback”, players tune the operational rules to make the game more fun</li></ol><p>Modes, Enforcer, Cheatability</p><blockquote><p>you must be able to state your game’s goal and state it clearly … the more easily players understand the goal, the more easily they can visualize achieving it, and the more likely they are going to want to play your game.<br>Good game goals are as follows: </p><ol><li>Concrete</li><li>Achievable</li><li>Rewarding</li></ol></blockquote><blockquote><p>Lens #32: The Lens of Goals<br>To ensure the goals of your game are appropriate and well balanced, ask yourself these questions:<br>● What is the ultimate goal of my game?<br>● Is that goal clear to players?<br>● If there is a series of goals, do the players understand that?<br>● are the different goals related to each other in a meaningful way?<br>● are my goals concrete, achievable, and rewarding?<br>● Do I have a good balance of short and long term goals?<br>● Do players have a chance to decide on their own goals?</p></blockquote><p>A game is not just defined by its rules, a game <strong>is</strong> its rules.</p><blockquote><p>Lens #33: The Lens of Rules<br>To use this lens, look deep into your game, until you can make out its most basic structure. ask yourself these questions:<br>● What are the foundational rules of my game? How do these differ from the operational rules?<br>● Are there “laws” or “house rules” that are forming as the game develops? Should these be incorporated into my game directly?<br>● Are there different modes in my game? Do these modes make things simpler, or more complex? Would the game be better with fewer modes? More modes?<br>● Who enforces the rules?<br>● Are the rules easy to understand, or is there confusion about them? If there is confusion, should I fix it by changing the rules or by explaining them more clearly?<br>There is a common misconception that designers make games by sitting down and writing a set of rules. This usually isn’t how it happens at all. a game’s rules are arrived at gradually and experimentally. The designer’s mind generally works in the domain of “operational rules,” occasionally switching to the perspective of “foundational rules” when thinking about how to change or improve the game. The “written rules” usually come toward the end, once the game is playable. Part of the designer’s job is to make sure there are rules that cover every circumstance. be sure to take careful notes as you playtest, because it is during these tests that holes in your rules will appear—if you just patch them quickly and don’t make a note, the same hole will just show up again later. a game is its rules—give them the time and consideration that they deserve.</p></blockquote><p><strong>Skill</strong></p><ol><li>Physical skills: dance games</li><li>Mental skills: games are interesting when there are interesting decisions to make</li><li><p>Social skills: Poker is largely a social game</p><p>… find the right mix of real and virtual skills … it is important that you draw a clear distinction between them in your mind.<br>Make a list of all the skills required in your game.</p></li></ol><blockquote><p>Lens #34: The Lens of Skill<br>To use this lens, stop looking at your game, and start looking at the skills you are asking of your players. ask yourself these questions:<br>● What skills does my game require from the player?<br>● Are there categories of skill that this game is missing?<br>● Which skills are dominant?<br>● Are these skills creating the experience I want?<br>● Are some players much better at these skills than others? Does this make the game feel unfair?<br>● Can players improve their skills with practice, leading to a feeling of mastery?<br>● Does this game demand the right level of skill?<br>Exercising skills can be a joyful thing—it is one of the reasons that people love games. Of course, it is only joyful if the skills are interesting and rewarding and if the challenge level strikes that ideal balance between “too easy” and “too hard.” Even dull skills (such as pushing buttons) can be made more interesting by dressing them up as virtual skills and providing the right level of challenge. Use this lens as a window into the experience the player is having. because skills do so much to define experience, the lens of Skill works quite well in conjunction with lens #2, Essential Experience.</p></blockquote><p><strong>Chance</strong></p><p>Probability</p><p><strong>regret</strong>: People avoid the options that cause the most pain… willing to pay a price/take risks to eliminate the potential of regret. Tversky: “When it comes to taking risks for gains, people are conservative. They will make a sure gain over a problem gain. But … when people are faced with a choice between a small, certain loss and a large, probable loss, they will gamble.” </p><p>沉没成本</p><blockquote><p>Lens #35: The Lens of Expected Value<br>To use this lens, think about the chance of different events occurring in your game and what those mean to your player. ask yourself these questions:<br>● What is the actual chance of a certain event occurring?<br>● What is the perceived chance?<br>● What value does the outcome of that event have? Can the value be quanti- fied? are there intangible aspects of value that I am not considering?<br>● Each action a player can take has a different expected value when I add up all the possible outcomes. am I happy with these values? Do they give the player interesting choices? are they too rewarding, or too punishing?</p><p>Expected value is one of your most valuable tools for analyzing game balance. The challenge of using it is finding a way to numerically represent everything that can happen to a player. Gaining and losing money is easy to represent. but what is the numerical value of “boots of speed” that let you run faster or a “warp gate” that lets you skip two levels? These are difficult to quantify perfectly—but that doesn’t mean you can’t take a guess. as we’ll see in the next chapter, as you go through multiple iterations of game testing and tweaking parameters and values in your game, you will also be tweaking your own estimations of the values of different outcomes. Quantifying these less tangible elements can be quite enlightening, because it makes you think concretely about what is valuable to the player and why—and this concrete knowledge will put you in control of the balance of your game.</p></blockquote><p><strong>Skill and Chance</strong><br><blockquote><ol><li>Estimating chance is a skill</li><li>Skills have a probability of success</li><li>Estimating an opponent’s skill is a skill</li><li>Predicting pure chance is an imagined skill</li><li>Controlling pure chance is an imagined skill</li></ol></blockquote></p><blockquote><p>Lens #36: The Lens of Chance<br>To use this lens, focus on the parts of your game that involve randomness and risk, keeping in mind that those two things are not the same. ask yourself these questions:<br>● What in my game is truly random? What parts just feel random?<br>● Does the randomness give the players positive feelings of excitement and challenge, or does it give them negative feelings of hopelessness and lack of control?<br>● Would changing my probability distribution curves improve my game?<br>● Do players have the opportunity to take interesting risks in the game?<br>● What is the relationship between chance and skill in my game? are there ways I can make random elements feel more like the exercise of a skill? are there ways I can make exercising skills feel more like risk taking?<br>Risk and randomness are like spices. a game without any hint of them can be completely bland, but put in too much and they overwhelm everything else. but get them just right, and they bring out the flavor of everything else in your game. Unfortunately, using them in your game is not as simple as sprinkling them on top. You must look into your game to see where elements of risk and randomness naturally arise, and then decide how you can best tame them to do your bidding. Don’t fall into the trap of thinking that elements of chance only occur around die rolls or randomly generated numbers. On the contrary, you can find them wherever a player encounters the unknown.</p></blockquote><h5 id="Balance"><a href="#Balance" class="headerlink" title="Balance"></a>Balance</h5><p>… it is generally considered the most artful part of game design</p><p><strong>Fairness</strong></p><p>Rock, Paper, Scissors</p><blockquote><p>Lens #37: The Lens of Fairness<br>To use the lens of fairness, think carefully about the game from each player’s point of view. Taking into account each player’s skill level, find a way to give each player a chance of winning that each will consider to be fair.<br>ask yourself these questions:<br>● Should my game be symmetrical? Why?<br>● Should my game be asymmetrical? Why?<br>● Which is more important: that my game is a reliable measure of who has the most skill or that it provide an interesting challenge to all players?<br>● If I want players of different skill levels to play together, what means will I use to make the game interesting and challenging for everyone?<br>Fairness can be a slippery subject. There are some cases where one side has an advantage over the other and the game still seems fair. Sometimes this is so that players of unequal skill can play together, but there can be other reasons. In the game Alien vs. Predator, for example, it is generally recognized that in multiplayer mode, Predators have a significant advantage over the aliens. Players do not consider it to be unfair, however, because it is in keeping with the Alien vs. Predator story world, and they accept that if they play as an alien, they will be at a disadvantage and will need to compensate for that with extra skill. It is a badge of pride among players to be able to win the game when playing as an alien.</p></blockquote><p><strong>Techniques for striking a proper balance:</strong></p><blockquote><p>● Increase difficulty with each success<br>● Let skilled players get through easy parts fast<br>● Create “layers of challenge”: to give a grade at end of each mission (“C”, “A+”)<br>● Let players choose the difficulty level: not a very good option<br>● Playtest with a variety of (a mix of skilled and novice) players<br>● Give the losers a break: Mario Kart, players who are behind get good stuff</p></blockquote><blockquote><p>“What percentage of players do I want to be able to complete this game?”<br>“…a few early successes can do a lot to build a player’s confidence —  a confident player will give up less easily…”</p></blockquote><blockquote><p>Lens #38: The Lens of Challenge<br>Challenge is at the core of almost all gameplay. You could even say that a game is defined by its goals and its challenges. When examining the challenges in your game, ask yourself these questions:<br>● What are the challenges in my game?<br>● are they too easy, too hard, or just right?<br>● Can my challenges accommodate a wide variety of skill levels?<br>● How does the level of challenge increase as the player succeeds?<br>● Is there enough variety in the challenges?<br>● What is the maximum level of challenge in my game?</p></blockquote><p><strong>Choices</strong></p><p>A good game gives the player meaningful choices… choices that will have a real impact on what happens next…</p><blockquote><p>● If choices &gt; desires, then the player is overwhelmed.<br>● If choices &lt; desires, the player is frustrated.<br>● If choices = desires, the player has a feeling of freedom and fulfillment.</p><p>…you need to figure out the types and number of things the player would like to do.</p></blockquote><blockquote><p>Lens #39: The Lens of Meaningful Choices<br>When we make meaningful choices, it lets us feel like the things we do matter. To use this lens, ask yourself these questions:<br>● What choices am I asking the player to make?<br>● Are they meaningful? How?<br>● Am I giving the player the right number of choices? Would more make them feel more powerful? Would less make the game clearer?<br>● Are there any dominant strategies in my game?</p></blockquote><p><strong>Triangularity</strong>: Low risk, low reward — High rist, high reward<br><blockquote><p>Lens #40: The Lens of Triangularity<br>Giving a player the choice to play it safe for a low reward or to take a risk for a big reward is a great way to make your game interesting and exciting. To use the lens of Triangularity, ask yourself these questions:<br>● Do I have triangularity now? If not, how can I get it?<br>● Is my attempt at triangularity balanced? That is, are the rewards commensurate with the risks?<br>Once you start looking for triangularity in games, you will see it everywhere. a dull, monotonous game can quickly become exciting and rewarding when you add a dash of triangularity.</p></blockquote></p><blockquote><p>● Manual or automatic?<br>● Kart or bike?<br>● Use speed boost pads?<br>● Left or right?</p></blockquote><blockquote><p>David Perry: …such that players are doing three things at all times: exercising a skill, taking risks, and working a strategy.</p></blockquote><blockquote><p>Lens #41: The Lens of Skill vs. Chance<br>To help determine how to balance skill and chance in your game, ask yourself these questions:<br>● Are my players here to be judged (skill) or to take risks (chance)?<br>● Skill tends to be more serious than chance: is my game serious or casual?<br>● Are parts of my game tedious? If so, will adding elements of chance enliven them?<br>● Do parts of my game feel too random? If so, will replacing elements of chance with elements of skill or strategy make the players feel more in control?</p></blockquote><blockquote><p>Lens #42: The Lens of Head and Hands<br>Yogi Berra once said, “baseball is 90% mental. The other half is physical.” To make sure your game has a more realistic balance of mental and physical elements, use the lens of Head and Hands. ask yourself these questions:<br>● Are my players looking for mindless action or an intellectual challenge?<br>● Would adding more places that involve puzzle solving in my game make it more interesting?<br>● Are there places where the player can relax their brain and just play the game without thinking?<br>● Can I give the player a choice—succeed either by exercising a high level of dexterity or by finding a clever strategy that works with a minimum of physical skill?<br>● If “1” means all physical and “10” means all mental, what number would my game get?<br>This lens works particularly well when used in conjunction with lens #19, The Player.</p></blockquote><p><strong>Competition and cooperation are basic, animal urges.</strong></p><blockquote><p>Lens #43: The Lens of Competition<br>Determining who is most skilled at something is a basic human urge. Games of competition can satisfy that urge. Use this lens to be sure your competitive game makes people want to win it. ask yourself these questions:<br>● Does my game give a fair measurement of player skill?<br>● Do people want to win my game? Why?<br>● Is winning this game something people can be proud of? Why?<br>● Can novices meaningfully compete at my game?<br>● Can experts meaningfully compete at my game?<br>● Can experts generally be sure they will defeat novices?</p></blockquote><blockquote><p>Lens #44: The Lens of Cooperation<br>Collaborating and succeeding as a team is a special pleasure that can create lasting social bonds. Use this lens to study the cooperative aspects of your game. ask these questions:<br>● Cooperation requires communication. Do my players have enough opportunity to communicate? How could communication be enhanced?<br>● Are my players friends already, or are they strangers? If they are strangers, can I help them break the ice?<br>● Is there synergy (2 + 2 = 5) or antergy (2 + 2 = 3) when the players work together? Why?<br>● Do all the players have the same role, or do they have special jobs?<br>● Cooperation is greatly enhanced when there is no way an individual can do<br>a task alone. Does my game have tasks like that?<br>● Tasks that force communication inspire cooperation. Do any of my tasks force communication?</p></blockquote><blockquote><p>Lens #45: The Lens of Competition vs. Cooperation<br>Balancing competition and cooperation can be done in many interesting ways. Use this lens to decide whether they are balanced properly in your game. ask these questions:<br>● If “1” is competition and “10” is cooperation, what number should my game get?<br>● Can I give players a choice whether to play cooperatively or competitively?<br>● Does my audience prefer competition, cooperation, or a mix?<br>● Is team competition something that makes sense for my game? Is my game more fun with team competition or with solo competition?</p></blockquote><p><strong>length of the gameplay</strong><br><blockquote><p>…For the fist 90 seconds, the player has unlimited lives…<br>…after twenty minutes, Armageddon begins…</p></blockquote></p><p><strong>Rewards</strong><br>…people want to be judged favorably.<br><blockquote><p>● Subway surfers…gradually increase the value of the rewards as the player progresses in the game.<br>● Power of variable rewards over fixed ones — delightful surprise</p></blockquote></p><blockquote><p>Lens #46: The Lens of Reward<br>Everyone likes to be told they are doing a good job. ask these questions to determine if your game is giving out the right rewards in the right amounts at the right times:<br>● What rewards is my game giving out now? Can it give out others as well?<br>● Are players excited when they get rewards in my game, or are they bored by them? Why?<br>● Getting a reward you don’t understand is like getting no reward at all. Do my players understand the rewards they are getting?<br>● Are the rewards my game gives out too regular? Can they be given out in a more variable way?<br>● How are my rewards related to one another? Is there a way that they could be better connected?<br>● How are my rewards building? Too fast, too slow, or just right?<br>Balancing rewards is different for every game. Not only does a designer have to worry about giving out the right ones, but he have to worry about giving them at the right times in the right amounts. This can only be determined through trial and error—even then, it probably won’t be right for everyone. When trying to balance rewards, it is hard to be perfect—you often have to settle for “good enough.”</p></blockquote><p><strong>Punishment</strong></p><blockquote><p>…One way to remove powers fairly is to take them away temporarily…<br>…reward is always a better tool for reinforcement than punishment…</p></blockquote><blockquote><p>Lens #47: The Lens of Punishment<br>Punishment must be used delicately, since after all, players are in a game of their own free will. balanced appropriately, it will give everything in your game more meaning, and players will have a real sense of pride when they succeed at your game. To examine the punishment in your game, ask yourself these questions:<br>● What are the punishments in my game?<br>● Why am I punishing the players? What do I hope to achieve by it?<br>● Do my punishments seem fair to the players? Why or why not?<br>● Is there a way to turn these punishments into rewards and get the same or a better effect?<br>● Are my strong punishments balanced against commensurately strong rewards?</p></blockquote><blockquote><p>…cutting out boring, complex, or unnecessary decisions and actions…<br>It seems that perfection is reached not when there is nothing left to add, but when there is nothing left to take away. — Antoine de Saint-Exupery</p></blockquote><blockquote><p>● Innate complexity: …the very rules of the game get very complex…often gets a bad name…the pawns in chess…<br>● Emergent complexity: … a very simple rulesets that give rise to billions of intricate…create a simple ruleset which emerges balanced surprises..</p></blockquote><blockquote><p>Lens #48: The Lens of Simplicity/Complexity<br>Striking the right balance between simplicity and complexity is difficult and must be done for the right reasons. Use this lens to help your game become one in which meaningful complexity arises out of a simple system. ask yourself these questions:<br>● What elements of innate complexity do I have in my game?<br>● Is there a way this innate complexity could be turned into emergent complexity?<br>● Do elements of emergent complexity arise from my game? If not, why not?<br>● Are there elements of my game that are too simple?</p></blockquote><p><strong>Elegant</strong>: simple systems that perform robustly in complex situations.</p><blockquote><p>There is an old Hollywood rule of thumb: if a line in a script doesn’t serve at least two purposes, it should be cut.</p></blockquote><blockquote><p>Lens #49: The Lens of Elegance<br>Most “classic games” are considered to be masterpieces of elegance. Use this lens to make your game as elegant as possible. ask yourself these questions:<br>● What are the elements of my game?<br>● What are the purposes of each element? Count these up to give the element an “elegance rating.”<br>● For elements with only one or two purposes, can some of these be combined into each other or removed altogether?<br>● For elements with several purposes, is it possible for them to take on even more?</p></blockquote><p><strong>Character</strong><br><blockquote><p>Lens #50: The Lens of Character<br>Elegance and character are opposites. They are like miniature versions of simplicity and complexity and must be kept in balance. To make sure your game has lovable, defining quirks, ask yourself these questions:<br>● Is there anything strange in my game that players talk about excitedly?<br>● Does my game have funny qualities that make it unique?<br>● Does my game have flaws that players like?</p></blockquote></p><p><strong>Detail and Imagination</strong><br><blockquote><p>● Only detail what you can do well: …use subtitles…the player’s imagination will fill in a voice…this idea goes for scenery, sfx, characters, animations…if you can’t do it well, try to find a way to leave it to the player’s imagination.<br>● Give details the imagination can use<br>● Familiar worlds do not need much detail<br>● Use the binocular effect: …filling in the close-ups on the tiny distant figures<br>● Give details that inspire imagination: …it is a fantasy—it only has to be tied to reality by a thin thread…</p></blockquote></p><blockquote><p>Lens #51: The Lens of Imagination<br>All games have some element of imagination and some element of connection to reality. Use this lens to help find the balance between detail and imagination. ask yourself these questions:<br>● What must the player understand to play my game?<br>● Can some element of imagination help them understand that better?<br>● What high-quality, realistic details can we provide in this game?<br>● What details would be low quality if we provided them? Can imagination fill the gap instead?<br>● Can I give details that the imagination will be able to reuse again and again?<br>● What details I provide inspire imagination?<br>● What details I provide stifle imagination?</p></blockquote><p><strong>Game Balancing Methodologies</strong><br><blockquote><p>Don’t jump in with balancing before thought clearly about problem statement.<br>Doubling and halving<br>Train your intuition by guessing exactly: guess exactly erery time you put food in microwave.<br>Document your model<br>Develop a better model about how things are related as you experiment with balancing…alter your model if it doesn’t match…writing down your observations and your model.<br>Plan to balance: … put in systems that make it easy to change the values expect to have to balance.<br>Let the players do it: … mostly, balancing the game is better left to the designers.</p></blockquote></p><blockquote><p>Lens #52: The Lens of Economy<br>Giving a game an economy can give it surprising depth and a life all its own. But like all living things, it can be difficult to control. Use this lens to keep your economy in balance:<br>● How can my players earn money? Should there be other ways?<br>● What can my players buy? Why?<br>● Is money too easy to get? Too hard? How can I change this?<br>● Are choices about earning and spending meaningful ones?<br>● Is a universal currency a good idea in my game, or should there be specialized currencies?</p></blockquote><blockquote><p>Problems of ‘adjust to the player’s skill level on the fly’:<br>If players know all of their op’s skill are not absolute but relative to the player’s skill, it damages the illusion… (e.g. in one NFS op’s car have a relative position no matter the player’s speed, feels unfair, and Ace Combat 7)<br>Players improve with practice: …many players felt insulted, diappointed—they wanted to keep practicing to master the challenge.</p></blockquote><blockquote><p>Lens #53: The Lens of Balance<br>There are many types of game balance, and each is important. However, it is easy to get lost in the details and forget the big picture. Use this simple lens to get out of the mire, and ask yourself the only important question:<br>● Does my game feel right? Why or why not?</p></blockquote><h5 id="Puzzles"><a href="#Puzzles" class="headerlink" title="Puzzles"></a>Puzzles</h5><blockquote><p>A Puzzle is a Game with a Dominant Strategy…puzzles are just games that aren’t fun to replay…a puzzle is anything that makes you stop and think…</p></blockquote><blockquote><p>Make the goal easily understood, if players aren’t sure what they are supposed to do, they will quickly lose interest, unless figuring out what to do is actually fun.</p></blockquote><blockquote><p>Lens #54: The Lens of Accessibility<br>When you present a puzzle to players (or a game of any kind), they should be able to clearly visualize what their first few steps would be. ask yourself these questions:<br>● How will players know how to begin solving my puzzle or playing my game? Do I need to explain it, or is it self-evident?<br>● Does my puzzle or game act like something they have seen before? If it does, how can I draw attention to that similarity. If it does not, how can I make them understand how it does behave?<br>● Does my puzzle or game draw people in and make them want to touch it and manipulate it? If not, how I can I change it so that it does?</p></blockquote><p><strong>Sense of Progress</strong></p><p>Game of Twenty Questions<br>Visible progress is the primary driver of mood in the workplace.</p><blockquote><p>Lens #55: The Lens of Visible Progress<br>Players need to see that they are making progress when solving a difficult problem. To make sure they are getting this feedback, ask yourself these questions:<br>● What does it mean to make progress in my game or puzzle?<br>● Is there enough progress in my game? Is there a way I can add more interim steps of progressive success?<br>● What progress is visible, and what progress is hidden? Can I find a way to reveal what is hidden?</p></blockquote><p>…give them several different related puzzles at once…if they get tired of one of them, they can go off and try another for a while. “A change is as good as a rest”<br><blockquote><p>Lens #56: The Lens of Parallelism<br>Parallelism in your puzzle brings parallel benefits to the player’s experience. To use this lens, ask yourself these questions:<br>● are there bottlenecks in my design where players are unable to proceed if they cannot solve a particular challenge? If so, can I add parallel challenges for a player to work on when this challenge stumps them?<br>● If parallel challenges are too similar, the parallelism offers little benefit. are my parallel challenges different enough from each other to give players the benefit of variety?<br>● Can my parallel challenges be connected somehow? Is there a way that making progress on one can make it easier to solve the others?</p></blockquote></p><blockquote><p>Lens #57: The Lens of the Pyramid<br>Pyramids fascinate us because they have a singular highest point. To give your puzzle the allure of the ancient pyramids, ask yourself these questions:<br>● Is there a way all the pieces of my puzzle can feed into a singular challenge at the end?<br>● Big pyramids are often made of little pyramids—can I have a hierarchy of ever more challenging puzzle elements, gradually leading to a final challenge?<br>● Is the challenge at the top of my pyramid interesting, compelling, and clear? Does it make people want to work in order to get to it?</p></blockquote><p>…a well-timed hint can renew their hope and thier curiosity…</p><p>…experience is triggered not by solving the puzzle but by seeing the answer…</p><p>…Perceptual Shift…involve almost no possibility of progress…should be used sparingly…</p><blockquote><p>Lens #58: The Lens of the Puzzle<br>Puzzles make the player stop and think. To ensure your puzzles are doing everything you want to shape the player experience, ask yourself these questions:<br>● What are the puzzles in my game?<br>● Should I have more puzzles, or less? Why?<br>● Which of the ten puzzle principles apply to each of my puzzles?<br>● Do I have any incongruous puzzles? How can I better integrate them into the game? (Use lens #49, Elegance, to help do this).<br>In the last few chapters, we have focused on game internals—it is now time to<br>consider an external element, the interface of the game.</p></blockquote><h5 id="Interface"><a href="#Interface" class="headerlink" title="Interface"></a>Interface</h5><p>The goal of an interface is to make players feel in control of their experience.</p><blockquote><p>Lens #59: The Lens of Control<br>This lens has uses beyond just examining your interface, since meaningful control is essential for immersive interactivity. To use this lens, ask yourself these questions:<br>● When players use the interface, does it do what is expected? If not, why not?<br>● Intuitive interfaces give a feeling of control. Is your interface easy to master or hard to master?<br>● Do your players feel they have a strong influence over the outcome of the game? If not, how can you change that?<br>● feeling powerful = feeling in control. Do your players feel powerful? Can you make them feel more powerful somehow?</p></blockquote><blockquote><p>Lens #60: The Lens of Physical Interface<br>Somehow, the player has a physical interaction with your game. Copying existing physical interfaces is an easy trap to fall into. Use this lens to be sure that your physical interface is well suited to your game by asking these questions:<br>● What does the player pick up and touch? Can this be made more pleasing?<br>● How does this map to the actions in the game world? Can the mapping be more direct?<br>● If you can’t create a custom physical interface, what metaphor are you using when you map the inputs to the game world?<br>● How does the physical interface look under the lens of the Toy?<br>● How does the player see, hear, and touch the world of the game? Is there a way to include a physical output device that will make the world become more real in the player’s imagination?<br>The world of videogames occasionally goes through dry spells where designers feel it is not feasible to create custom physical interfaces. but the marketplace thrives on experimentation and novelty, and suddenly specially crafted physical interfaces, like the Dance Dance Revolution mat, the Guitar Hero guitar, and the Wiimote appear bringing new life to old gameplay by giving players a new way to interact with old game mechanics.</p></blockquote><blockquote><p>Lens #61: The Lens of Virtual Interface<br>Designing virtual interfaces can be very tricky. Done poorly, they become a wall between the player and the game world. Done well, they amplify the power and control a player has in the game world. ask these questions to make sure that your virtual interface is enhancing player experience as much as possible:<br>● What information does a player need to receive that isn’t obvious just by looking at the game world?<br>● When does the player need this information? all the time? Only occasionally? Only at the end of a level?<br>● How can this information be delivered to the player in a way that won’t interfere with the player’s interactions with the game world?<br>● Are there elements of the game world that are easier to interact with using<br>a Virtual interface (like a pop-up menu, for instance) than they are to interact with directly?<br>● What kind of virtual interface is best suited to my physical interface? Pop-up menus, for example, are a poor match for a gamepad controller.</p></blockquote><blockquote><p>Lens #62: The Lens of Transparency<br>No matter how beautiful your interface is, it would be better if there were less of it. —Edward Tufte<br>The ideal interface becomes invisible to the player letting the player’s imagination be completely immersed in the game world. To ensure invisibility, ask yourself these questions:<br>● What are the player’s desires? Does the interface let the players do what they want?<br>● Is the interface simple enough that with practice, players will be able to use it without thinking?<br>● Do new players find the interface intuitive? If not, can it be made more intuitive, somehow? Would allowing players to customize the controls help or hurt?</p></blockquote><p><strong>feedback</strong>: one example is the net on a basketball hoop…does not affect the gameplay at all—but it slows the ball as it descends from the hoop so all players can clearly see that it went in…</p><blockquote><p>Lens #63: The Lens of Feedback<br>The feedback a player gets from the game is many things: judgment, reward, instruction, encouragement, and challenge. Use this lens to be sure your feedback loop is creating the experience you want by asking these questions at every moment in your game:<br>● What do players need to know at this moment?<br>● What do players want to know at this moment?<br>● What do you want players to feel at this moment? How can you give feedback that creates that feeling?<br>● What do the players want to feel at this moment? Is there an opportunity for them to create a situation where they will feel that?<br>● What is the player’s goal at this moment? What feedback will help them toward that goal?</p></blockquote><p>Respond to player input within <strong>Tenth of a Second</strong></p><p><strong>second-order motion</strong>: motion that is derived from the action of the player.</p><blockquote><p>Lens #64: The Lens of Juiciness<br>To call an interface “juicy” might seem kind of silly—although it is very common to hear an interface with very little feedback described as “dry.” Juicy interfaces are fun the moment you pick them up. To maximize juiciness, ask yourself these questions:<br>● Is my interface giving the player continuous feedback for their actions? If not, why not?<br>● Is second-order motion created by the actions of the player? Is this motion powerful and interesting?<br>● Juicy systems reward the player many ways at once. When I give the player a reward, how many ways am I simultaneously rewarding them? Can I find more ways?</p></blockquote><blockquote><p>Lens #65: The Lens of Primality<br>Some actions and interfaces are so intuitive that animals were doing them hundreds of millions of years ago. To capture the power of primality, ask yourself these questions:<br>● What parts of my game are so primal an animal could play? Why?<br>● What parts of my game could be more primal?</p></blockquote><p><strong>Channels of Information</strong></p><ol><li>List and Prioritize Information: Immediate surroundings, Health, … Inventory</li><li>List Channels of information: top of screen, sound effects, avatar …</li><li>Map Information to Channels. </li></ol><blockquote><p>Lens #66: The Lens of Channels and Dimensions<br>Choosing how to map game information to channels and dimensions is the heart of designing your game interface. Use this lens to make sure you do it thoughtfully and well. ask yourself these questions:<br>● What data need to travel to and from the player?<br>● Which data are most important?<br>● What channels do I have available to transmit these data?<br>● Which channels are most appropriate for which data? Why?<br>● Which dimensions are available on the different channels?<br>● How should I use those dimensions?</p></blockquote><p><strong>Modes</strong></p><ol><li>Use as few modes as possible</li><li>Make different modes look as different as possible</li></ol><blockquote><p>Lens #67: The Lens of Modes<br>An interface of any complexity is going to require modes. To make sure your modes make the player feel powerful and in control and do not confuse or overwhelm, ask yourself these questions:<br>● What modes do I need in my game? Why?<br>● Can any modes be collapsed or combined?<br>● Are any of the modes overlapping? If so, can I put them on different input channels?<br>● When the game changes modes, how does the player know that? Can the game communicate the mode change in more than one way?</p></blockquote><ol><li>Steal: top-down approach</li><li>Customize: bottom-up approach</li></ol><h5 id="Interest-Curves"><a href="#Interest-Curves" class="headerlink" title="Interest Curves"></a>Interest Curves</h5><p>…any entertainment experience  is a series of moments.</p><blockquote><p>Lens #68: The Lens of Moments<br>Memorable moments are stars that make up the constellation of your interest curve. To chart what is most important, ask yourself these questions:<br>● What are the key moments in my game?<br>● How can I make each moment as powerful as possible?</p></blockquote><blockquote><p>Lens #69: The Lens of the Interest Curve<br>Exactly what captivates the human mind often seems different for every person, but the most pleasurable patterns of that captivation are remarkably similar for everyone. To see how a player’s interest in your experience changes over time, ask yourself these questions:<br>● If I draw an interest curve of my experience, how is it generally shaped?<br>● Does it have a hook?<br>● Does it have gradually rising interest, punctuated by periods of rest?<br>● Is there a grand finale, more interesting than everything else?<br>● What changes would give me a better interest curve?<br>● Is there a fractal structure to my interest curve? Should there be?<br>● Do my intuitions about the interest curve match the observed interest of the players? If I ask playtesters to draw an interest curve, what does it look like?<br>Since all players are different, you may find it quite useful to use the lens of the Interest Curve and lens #19, The Player, at the same time, creating a unique interest curve for each of the types of players your game is trying to reach.</p></blockquote><h5 id="Story"><a href="#Story" class="headerlink" title="Story"></a>Story</h5><p><strong>The String of Pearls</strong>:  cut scene, game level, cut scene, game level … Ico, The Last of Us…<br><strong>The Story Machine</strong>: a story is a sequence of events… a good game is like a story machine—generating sequences of interesting events.</p><h5 id="Character"><a href="#Character" class="headerlink" title="Character"></a>Character</h5><p><strong>Avatars</strong><br>We have the ability to project ourselves into just about anything we control.<br>First Person View: greater projection<br>Visible Avatar: power of empathy…as if the avatar is a kind of kinesthetic voodoo doll for the guest…subconscious…</p><p><strong>The Ideal Form</strong> the kind that they player has always wanted to be… people we sometimes dream about being.</p><p>When you combine an iconic character with a detailed world, you get a powerful combination.</p><blockquote><p>Lens #85: The Lens of the Avatar<br>The avatar is a player’s gateway into the world of the game. To ensure the avatar brings out as much of the player’s identity as possible, ask yourself these questions:<br>● Is my avatar an ideal form likely to resonate with my players?<br>● Does my avatar have iconic qualities that let a player project themselves into the character?</p></blockquote><p><strong>Creating Characters</strong></p><p>…list all the functions…then list the characters you had been thinking of putting in the game, and see how they match up.</p><blockquote><p>Lens #86: The Lens of Character Function<br>To make sure your characters are doing everything your game needs them to do, ask yourself these questions:<br>● What are the roles I need the characters to fill?<br>● What characters have I already imagined?<br>● Which characters map well to which roles?<br>● Can any characters fill more than one role?<br>● Do I need to change the characters to better fit the roles?<br>● Do I need any new characters?</p></blockquote><p><strong>Traits</strong><br>…define a small, distilled list of traits that encapsulate the character.<br>their <strong>actions</strong> should demonstrate the traits…if your character is sneaky, does it show in his jump animation?</p><blockquote><p>Lens #87: The Lens of Character Traits<br>To ensure that the traits of a character show in what they say and do, ask yourself these questions:<br>● What traits define my character?<br>● How do these traits manifest themselves in the words, actions, and appearance of my character?</p></blockquote><p><strong>Interpersonal Circumplex</strong></p><blockquote><p>Lens #88: The Lens of the Interpersonal Circumplex<br>Understanding the relationships between your characters is crucial. One way to do this is to create a graph with one axis labeled hostile/friendly and the other labeled submissive/dominant. Pick a character to analyze, and put them in the middle. Plot out where other characters lie relative to that character, and ask yourself these questions:<br>● are there any gaps in the chart? Why are they there? Would it be better if the gaps were filled?<br>● are there “extreme characters” on the graph? If not, would it be better if there were?<br>● are the character’s friends in the same quadrant, or different quadrants? What if that were different?</p></blockquote><blockquote><p>Lens #89: The Lens of the Character Web<br>To flesh out your characters’ relationships better, make a list of all your characters, and ask yourself these questions:<br>● How, specifically, does each character feel about each of the others?<br>● are there any connections unaccounted for? How can I use those?<br>● are there too many similar connections? How can they be more different?</p></blockquote><blockquote><p>Lens #90: The Lens of Status<br>When people interact, they take on different behaviors depending on their status levels. To make your characters more aware of each other, ask yourself these questions:<br>● What are the relative status levels of the characters in my game?<br>● How can they show appropriate status behaviors?<br>● Conflicts of status are interesting—how are my characters vying for status?<br>● Changes of status are interesting—where do they happen in my game?<br>● How am I giving the player a chance to express status?</p></blockquote><blockquote><p>Lens #91: The Lens of Character Transformation<br>We pay attention to character transformation, because we care about what might change us. To ensure your characters are transforming in interesting ways, ask yourself these questions:<br>● How does each of my characters change throughout the game?<br>● How am I communicating those changes to the player? Can I communicate them more clearly, or more strongly?<br>● Is there enough change?<br>● are the changes surprising and interesting?<br>● are the changes believable?</p></blockquote><h5 id="Space"><a href="#Space" class="headerlink" title="Space"></a>Space</h5><h6 id="Coping-with-Bad-Suggestions"><a href="#Coping-with-Bad-Suggestions" class="headerlink" title="Coping with Bad Suggestions"></a>Coping with Bad Suggestions</h6><blockquote><p>When someone makes a bad suggestion … it just means they are trying to help.<br>And most of the time, when one of these bad suggestions comes up, it is a solution to an unstated problem.<br>… if you can figure out what problem the client is trying to solve with their suggestion,<br>perhaps you can come up with a solution that does a better job of solving the problem, and the client will be thrilled.</p><p>… the importance of finding ways for them to feel like creative partners on your game</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>行为树 (BehaviourTree)</title>
      <link href="/2017/11/22/20171122-BehaviourTree/"/>
      <url>/2017/11/22/20171122-BehaviourTree/</url>
      
        <content type="html"><![CDATA[<p>Chris Simpson, <a href="https://www.gamasutra.com/blogs/ChrisSimpson/20140717/221339/Behavior_trees_for_AI_How_they_work.php" target="_blank" rel="noopener">Behavior trees for AI: How they work</a></p><p>Node Canvas, <a href="http://nodecanvas.paradoxnotion.com/documentation/" target="_blank" rel="noopener">Documentation</a></p><p>Unreal Engine, <a href="https://docs.unrealengine.com/latest/INT/Engine/AI/BehaviorTrees/index.html" target="_blank" rel="noopener">Documentation</a> </p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>&lt;出发点&gt; 读书笔记 (1979~1996)</title>
      <link href="/2017/08/10/20170810-ChuFaDian/"/>
      <url>/2017/08/10/20170810-ChuFaDian/</url>
      
        <content type="html"><![CDATA[<h3 id="国家的前途-对谈-筑紫哲也"><a href="#国家的前途-对谈-筑紫哲也" class="headerlink" title="国家的前途 [对谈] 筑紫哲也"></a>国家的前途 [对谈] 筑紫哲也</h3><blockquote><p><strong>宫崎</strong> 在幼稚园教识字、写字，我认为这种做法应该舍弃。当孩子到达小学五年级左右的阶段，开始把自己同化成主角去思考故事时，若是在他的额头上盖一个又一个的大叉叉，那么以后再怎么样都不会恢复了。<br>    童年不是为了长成大人而存在的，它是为了童年本身，为了体会做孩子时才能体验的食物而存在的。童年时五分钟的经历，甚至胜过成人一整年的经历。精神创伤也是在这个时期形成。站在这个角度想想，整个社会实在应该多用智慧去帮助孩子生存下去。</p><p><strong>筑紫</strong> 我想，受伤最大的应该是孩子的两种能力吧…自己动手做东西的创造力，以及如果把他丢在一边，就算是莫名其妙的东西也会玩得很起劲的想象力…扼杀那两种能力确实是成年人的各种罪状中最为重大的一项。</p></blockquote><a id="more"></a><h3 id="关于动画制作"><a href="#关于动画制作" class="headerlink" title="关于动画制作"></a>关于动画制作</h3><h4 id="缅怀已逝的世界"><a href="#缅怀已逝的世界" class="headerlink" title="缅怀已逝的世界"></a>缅怀已逝的世界</h4><h5 id="我心中的动画"><a href="#我心中的动画" class="headerlink" title="我心中的动画"></a>我心中的动画</h5><blockquote><p>会让我想要亲自下去做的作品，就是我的动画</p></blockquote><h5 id="想要拥有自己的世界……"><a href="#想要拥有自己的世界……" class="headerlink" title="想要拥有自己的世界……"></a>想要拥有自己的世界……</h5><blockquote><p>既要读书，有对异性有强烈的憧憬。于是，想要发泄的青少年便会想要“拥有自己的世界”，我称之为“向往失落的世界”。<br>在边缘状态中紧张求生正是他们所向往的人生，不过如果让他们的现实生活也卷入类似的漩涡，他们又会强烈的拒绝。<br>人从出生的那一刻起，“可能性”就在渐渐丧失……所以人们要到幻想的世界里悠游</p></blockquote><h5 id="以-现实主义-为中心"><a href="#以-现实主义-为中心" class="headerlink" title="以 现实主义 为中心"></a>以 现实主义 为中心</h5><blockquote><p>不管是什么样的机器人都好，它应该是主角花功夫做出来且坏了是由主角自己将它修好的——我认为这才是真正的机械的故事</p></blockquote><h5 id="在谈“动画技术”之前"><a href="#在谈“动画技术”之前" class="headerlink" title="在谈“动画技术”之前"></a>在谈“动画技术”之前</h5><blockquote><p>年轻的时候，人人都想早日独当一面，这种念头让许多人先钻研起技术来……我劝大家在投入这一行之前，趁着还有自己的时间多多充实自我，把看事情的角度和价值观等基础原则弄稳一点。<br>……你更应该继续坚持意向，不要失去自己的独特之处，一旦中途放弃，剩下的路就只能……用“这样赚多少钱”的标准来衡量生活，然后任“收视率”来摆布你对作品的喜怒哀乐了。</p></blockquote><h5 id="趁现在“真正学习”！"><a href="#趁现在“真正学习”！" class="headerlink" title="趁现在“真正学习”！"></a>趁现在“真正学习”！</h5><blockquote><p>……假设要……画个飞行中的飞行挺，他们脑中只能浮现的却只有从前在其他卡通里看过的印象，这很糟。……打开飞机历史的书来看，会发现一个叫伊果·塞考斯基的名字。塞考斯基在一九一三年建造了全世界第一架四浆复翼机……想象他当时的模样——一面承受着风压，一面望着引擎的方向，也是另一番豪情吧。试着去揣摩他当时极欲飞行成功的心情，如此入画之后的生动感，绝不是抄抄电视卡通、玩玩模型飞机或坐在喷射客机的密闭机舱里可以衍生得出来的。</p></blockquote><h4 id="从发想到影片"><a href="#从发想到影片" class="headerlink" title="从发想到影片"></a>从发想到影片</h4><blockquote><p>我认为创作动画就是在创造一个虚构的世界。那个世界能抚慰受现实压迫的心灵，激励萎靡的意志，化解紊乱的情感，使观者拥有平缓轻快的心情，以及受到净化后的澄明心境。</p><p>会走上动画世界这条路的人，大多是比一般人更爱做梦的人，除了自己做梦，他们也希望将这样的梦境传达给别人。渐渐地，他们会发现，让别人快乐也成了一种无可取代的乐趣。若是曾想要告诉别人夜里做过的梦是多么的美好或有多么的悲伤的人，应该就能体会这其中的难处了。更何况，一部作品必须透过集体作业才能完成，所以其过程自然是更复杂。</p><p>如果自己拥有能力与机会去创造出更美好的世界，那么天底下再也没有比这更好的职业了。</p></blockquote><blockquote><p>在日常工作中，你可以在人云亦云中说说真话，或是为空洞的人物注入生机……它就有可能是你的转机。只有日日不懈的努力，不找借口为自己开脱的人，才能看见这样的机会。</p><p>当别人对你无所期待时，不妨不求报酬的说服他们接受你的提案……抓住机会，做好 随时俯冲的准备，乃是这份职业的<strong>希望</strong>所在</p></blockquote><h5 id="发想-—-一切的开端"><a href="#发想-—-一切的开端" class="headerlink" title="发想 — 一切的开端"></a>发想 — 一切的开端</h5><blockquote><p>不要管别人是否觉得有趣，重要的是你要做出自己想看的东西。<br>不停的画，越多越好，画够了，一个世界便成型了。</p></blockquote><h5 id="对力量的向往-—-机械"><a href="#对力量的向往-—-机械" class="headerlink" title="对力量的向往 — 机械"></a>对力量的向往 — 机械</h5><blockquote><p>对机械的关注是基于潜意识中对力量的向往。<br>我希望动画里所出现的机械，能借着在地面奔驰，在海里潜行，在广阔天空飞翔，帮助人们从束缚中解放。</p></blockquote><blockquote><p>“我现在画的东西，是我真正想做的事情吗？我会不会错了？”</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>莲蓬怪，看新闻得脑洞</title>
      <link href="/2017/08/05/20170805-Lianpengguai/"/>
      <url>/2017/08/05/20170805-Lianpengguai/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/drawings/lianpengguai.jpg" alt><br><img src="/img/drawings/mmexport1547456039719.jpg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> 画 </tag>
            
            <tag> 脑洞 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>乐趣理论读书笔记 (Notes of A Theory of Fun)</title>
      <link href="/2017/06/06/20170606-theoryoffun/"/>
      <url>/2017/06/06/20170606-theoryoffun/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.theoryoffun.com/" target="_blank" rel="noopener">A Theory of Fun for Game Design</a></p><a id="more"></a><h3 id="How-the-Brain-Works"><a href="#How-the-Brain-Works" class="headerlink" title="How the Brain Works"></a>How the Brain Works</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">People dislike chaos. We like order (with a bit of texture or variation)</span><br></pre></td></tr></table></figure><p>“人们不喜欢混乱，我们喜欢（丰富多彩的）”<br>无法理解的事物等于<strong>噪音</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Practice to Build up a Library, Routine</span><br></pre></td></tr></table></figure><p>“通过训练建立<strong>流程</strong>“<br>理解<strong>训练</strong>，很重要<br>新玩法须考虑玩家学习成本</p><h3 id="What-Games-Are"><a href="#What-Games-Are" class="headerlink" title="What Games Are"></a>What Games Are</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. concentrated chunks, abstracted, iconic, exclude distracting extra details</span><br><span class="line">2. very fundamental and powerful learning tools</span><br><span class="line">3. Games that fail to exercise the brain become boring (tic-tac-toe)</span><br><span class="line">4. learning is the drug</span><br></pre></td></tr></table></figure><p>会使人沉迷上瘾的，正是<strong>学习</strong>本身。应当和解开一道很难的数学/物理题的感觉是类似的，通过长期学习训练掌握了解题方法并通过活用而取得成果，的那种快感。</p><h3 id="What-Games-Are-Not"><a href="#What-Games-Are-Not" class="headerlink" title="What Games Are Not"></a>What Games Are Not</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Fun is the act of mastering a problem mentally</span><br></pre></td></tr></table></figure><h3 id="Different-Fun-for-Differnt-Folks"><a href="#Different-Fun-for-Differnt-Folks" class="headerlink" title="Different Fun for Differnt Folks"></a>Different Fun for Differnt Folks</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">People will usually choose to play the games they are already good at, that reflect their strengths.</span><br></pre></td></tr></table></figure><p>人们通常选择玩那些他们擅长的，能体现他们能力的游戏<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if people are to achieve their maximum potential, they need to do the hard work of playing the games they don’t get, the games that don’t appeal to their natures.</span><br></pre></td></tr></table></figure></p><p>然而大多数人可能会选择放弃</p><h3 id="The-Problem-with-Learning"><a href="#The-Problem-with-Learning" class="headerlink" title="The Problem with Learning"></a>The Problem with Learning</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Human mind want to take shortcuts</span><br><span class="line">When a player cheats in a game, she is choosing a battlefield that is broader in context than the game itself.</span><br><span class="line">That’s what games are...package up the unpredictable and the learning experience into a space and time where there is no risk.</span><br><span class="line">It’s outright unnatural for a human being to see another human being succeeding at something and not want to compete.</span><br><span class="line">The human mind is goal-driven</span><br><span class="line">Rewards are one of the key components of a successful game activity</span><br></pre></td></tr></table></figure><h5 id="Successful-games-tend-to-incorporate-the-following-elements"><a href="#Successful-games-tend-to-incorporate-the-following-elements" class="headerlink" title="Successful games tend to incorporate the following elements:"></a>Successful games tend to incorporate the following elements:</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1. Preparation</span><br><span class="line">2. A sense of space</span><br><span class="line">3. A solid core mechanic</span><br><span class="line">4. A range of challenges</span><br><span class="line">5. A range of abilities required to solve the encounter</span><br><span class="line">6. Skill required in using the abilities</span><br><span class="line"></span><br><span class="line">If there’s no sense of space, we call it trivial.</span><br><span class="line">If there’s no core mechanic, there’s no game system at all.</span><br><span class="line">If there’s no range of challenges, we exhaust it quickly.</span><br><span class="line">If there aren’t multiple choices to make, it’s simplistic.</span><br><span class="line">And if skill isn’t required, it’s tedious.</span><br></pre></td></tr></table></figure><h5 id="To-make-the-experience-a-learning-experience"><a href="#To-make-the-experience-a-learning-experience" class="headerlink" title="To make the experience a learning experience:"></a>To make the experience a learning experience:</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. A variable feedback system.</span><br><span class="line">2. The Mastery Problem must be dealt with.</span><br><span class="line">3. Failure must have a cost.</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Most long-lasting games in the past have been competitive, because they lead to an endless supply of similar yet slightly varied puzzles.</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Designers of games need to be careful not to make the game demand too much skill. They must keep in mind that players are always trying to reduce the difficulty of a task. The easiest way to do that is to not play.</span><br></pre></td></tr></table></figure><h5 id="Tool-for-checking-for-the-absence-of-fun"><a href="#Tool-for-checking-for-the-absence-of-fun" class="headerlink" title="Tool for checking for the absence of fun:"></a>Tool for checking for the absence of fun:</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1. Do you have to prepare before taking on the challenge?</span><br><span class="line">2. Can you prepare in different ways and still succeed?</span><br><span class="line">3. Does the environment in which the challenge takes place affect the challenge?</span><br><span class="line">4. Are there solid rules defined for the challenge you undertake?</span><br><span class="line">5. Can the core mechanic support multiple types of challenges?</span><br><span class="line">6. Can the player bring multiple abilities to bear on the challenge?</span><br><span class="line">7. At high levels of difficulty, does the player have to bring multiple abilities to bear on the challenge?</span><br><span class="line">8. Is there skill involved in using an ability? (If not, is this a fundamental “move” in the game, like moving one checker piece?)</span><br><span class="line">9. Are there multiple success states to overcoming the challenge? (In other words, success should not have a single guaranteed result.)</span><br><span class="line">10. Do advanced players get no benefit from tackling easy challenges?</span><br><span class="line">11. Does failing at the challenge at the very least make you have to try again?</span><br><span class="line">If your answer to any of the above questions is “no,” then the game system is probably worth readdressing.</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Your sole responsibility is to know what the game is about and to ensure that the game teaches that thing. That one thing, the theme, the core, the heart of the game...no system should be in the game that does not contribute towards that lesson</span><br></pre></td></tr></table></figure><h3 id="The-Problem-with-People"><a href="#The-Problem-with-People" class="headerlink" title="The Problem with People"></a>The Problem with People</h3><h5 id="Tactics-to-make-games-self-refreshing"><a href="#Tactics-to-make-games-self-refreshing" class="headerlink" title="Tactics to make games self-refreshing:"></a>Tactics to make games self-refreshing:</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. “Emergent behavior”</span><br><span class="line">2. Storytelling</span><br><span class="line">3. Placing players head-to-head</span><br><span class="line">4. Using players to generate content</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The real problem with people is that: PEOPLE ARE LAZY.</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The problem with people isn’t that they work to undermine games and make them boring.</span><br><span class="line">We’re reluctant to abandon known solutions.</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Because games exist within the confines of “let’s pretend,” They let you be a godlet. They can offer false positive feedback to keep a player playing.</span><br><span class="line">Making you feel good about yourself in a pretend arena isn’t what games are for.</span><br><span class="line">Games are for offering challenges. Going back through defeated challenges in order to pass time isn’t a productive exercise of your brain’s abilities.</span><br><span class="line">Nonetheless, lots of people do it.</span><br></pre></td></tr></table></figure><p>赞同作者贯穿本书的一个观点：游戏的目的是学习<br>我之前也有相同的想法，所以看到ToF之后有种同道的感觉。Raph对于游戏的寄望是纯粹的，令人敬仰，但这种纯粹其实是我不同意的。<br>人性既然如此，如何在这客观条件下引导，达成学到东西这一目的，才是设计者(教育者)应当做的。<br>我同意游戏的目的是使玩家挑战自己并不断学习，但我同时认为给人带来快乐也是游戏的目的，<br>作为引导学习的更好的方式，也许是 <strong>在快乐的游戏中学习</strong></p><p>Basically, game designers suffer from what I call “designeritis.” They build up encyclopedic recollections of games past and present, and they then theoretically use these to make new games.<br>其实能从过往抽象出一些经验，这个未必不正确，比如如果对技术和美术了解的情况下，对于可行性判断乃至整个设计都会很有帮助。</p><p>The most creative and fertile game designers working today tend to be the ones who make a point of not focusing too much on other games for inspiration.<br>即游戏设计者要广涉猎，比如电影，漫画，小说，以及其它很多事物</p><h3 id="Games-in-Context"><a href="#Games-in-Context" class="headerlink" title="Games in Context"></a>Games in Context</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UserGoal[ Constructive, Experiential, Destructive ]</span><br><span class="line">Interaction [ Collaborative, Competitive, Solo ]</span><br></pre></td></tr></table></figure><p>Modding is just playing the game in another way<br>我最近也在想这个，比如做M&amp;B或者Paradox的历史游戏的Mod，再或者Dominions的Mod，的时候，确实非常有趣，不亚于玩游戏本身。</p><p>The chills are not always enjoyable…engaging in interaction with games need not be fun, either, but might indeed be fulfilling, thought-provoking, challenging, and also difficult, painful, and even compulsive.<br>并不仅有快乐使人觉得一款游戏好</p><p>Mere entertainment becomes art when the communicative element in the work is either novel or exceptionally well done.<br>The analogy for a game would be one you can replay over and over again, and still discover new things.<br>Choosing constraints is one of the most fruitful ways to creativity.</p><p>Entertainment and Art<br>若以学习为目的，则应靠向Entertainment，但游戏本身则不受这限制，二者皆可。</p><h3 id="The-Ethics-of-Entertainment"><a href="#The-Ethics-of-Entertainment" class="headerlink" title="The Ethics of Entertainment"></a>The Ethics of Entertainment</h3><p>画面、音效等等也是用户体验的一部分，也非常重要</p><p>The constructive thing to do is to push the boundary gently so that it doesn’t backfire. That’s how we got Lolita, Catcher in the Rye, and Apocalypse Now.</p><h3 id="Where-Games-Should-Go"><a href="#Where-Games-Should-Go" class="headerlink" title="Where Games Should Go"></a>Where Games Should Go</h3><p>Mastery of the medium of games will have to imply authorial intent. The formal systems must be capable of invoking desired learning patterns.<br>If they can’t, then games are a second-rate art form, and always will be.</p><h3 id="Taking-Their-Rightful-Place"><a href="#Taking-Their-Rightful-Place" class="headerlink" title="Taking Their Rightful Place"></a>Taking Their Rightful Place</h3><p>…games do need to illuminate aspects of ourselves that we do not understand fully.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The gap between those who want games to entertain and those who want games to be art does not exist.</span><br></pre></td></tr></table></figure><p>Art and entertainment are not terms of <strong>type</strong> — they are terms of <strong>intensity</strong>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Most people ... are very willing to settle for easy entertainment</span><br><span class="line">We call this “pop music.” We call it “mass market.”</span><br></pre></td></tr></table></figure><p>如果大部分人喜欢轻松的娱乐，而轻松娱乐与有突破性相抵，则对大多数人来说寓教于乐为不可能。<br>似乎并非如此，权力的游戏可能就是一个例外，吉卜力的作品可能大部都是例外。<br>还是要明确目的，掌控方法。<br>寓教于乐，最差的情况下，只要比现行教科书生动有趣，就是一种进步。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Popular ... is largely an accident of history</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In the end, if I can say with a straight face after a day’s work making games that one person out there learned to be a better leader, a better parent, a better co-worker, learned a new skill that kept her her job, a new skill that helped him advance the state of the art in his chosen field, a new skill that made their her grow a little…</span><br><span class="line">Then I will know that my work was valuable. It was worthwhile. It was a contribution to society.</span><br><span class="line"></span><br><span class="line">I MAKE GAMES, AND I&apos;M PROUD OF I T.</span><br></pre></td></tr></table></figure><h3 id="Epilogue"><a href="#Epilogue" class="headerlink" title="Epilogue"></a>Epilogue</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Film was once trashy kinetoscopes at the penny arcade</span><br><span class="line">``</span><br><span class="line"></span><br><span class="line">### Ten Years Later</span><br></pre></td></tr></table></figure><p>But after ten years, I look back on it all and I see games as not just a swirl of systems,<br>but as a space between the dust from which we come and the dust we shall be,<br>a space in which we can engage in that grand pursuit of happiness.<br><code>`</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unity ShaderGUI</title>
      <link href="/2017/06/05/20170605-ShaderGUI/"/>
      <url>/2017/06/05/20170605-ShaderGUI/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/20170605171245.jpg" alt></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">_materialEditor.TexturePropertySingleLine(Styles.maintexText, _MainTex);</span><br><span class="line">_materialEditor.TextureScaleOffsetProperty(_MainTex);</span><br><span class="line">   </span><br><span class="line"><span class="keyword">bool</span> enabled = IsKeywordEnabled(_materialEditor, <span class="string">"Enable_NORMAL"</span>);</span><br><span class="line">enabled = ToggleField(Styles.enableNormalText, enabled);</span><br><span class="line">   </span><br><span class="line">_materialEditor.TexturePropertySingleLine(Styles.normalMapText, _BumpMap, _Bumpness);</span><br><span class="line">   </span><br><span class="line"><span class="keyword">if</span> (EditorGUI.EndChangeCheck())</span><br><span class="line">&#123;</span><br><span class="line">SetKeyword(_materialEditor, <span class="string">"Enable_NORMAL"</span>, enabled);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unity着色器变种 (Shader Variants)</title>
      <link href="/2017/05/31/20170531-ShaderVariants/"/>
      <url>/2017/05/31/20170531-ShaderVariants/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/uberShaderControls.jpg" alt></p><h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><p>移动端游戏，在运行时根据实际情况开关渲染功能，达到效果和性能的平衡。<br>如 Kabam 的 Marvel: Contest of Champions</p><p>开发时帮助美术判断效果。</p><h3 id="Unity实现"><a href="#Unity实现" class="headerlink" title="Unity实现"></a>Unity实现</h3><p>Unity提供了着色器变种功能：<br><a href="https://docs.unity3d.com/Manual/SL-MultipleProgramVariants.html" target="_blank" rel="noopener">Making multiple shader program variants</a></p><a id="more"></a><p><strong>- 允许生成shader的变种通常称为 “mega shaders” 或 “uber shaders”</strong></p><p><strong>- 变种数量是指数级增长的</strong><br>如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#pragma multi_compile A B C</span><br><span class="line">#pragma multi_compile D E</span><br></pre></td></tr></table></figure></p><p>会生成6个变种。<br>某些情况下可以考虑Shader Hardware Variants：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#pragma hardware_tier_variants renderer</span><br></pre></td></tr></table></figure></p><p>生成3种不同变种<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> multi_compile __ Enable_NORMAL</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> multi_compile __ Enable_SPECULAR</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> multi_compile __ Enable_REFLECTION</span></span><br></pre></td></tr></table></figure></p><p><strong>- multi_compile 和 shader_feature 的区别</strong></p><p>未使用的shader_feature不会build。</p><p>所以对于我们运行时控制渲染的要求：</p><ol><li>用shader_feature，只要build时把能用到的feature全开就好（更通用）</li><li>用multi_compile（更安全）</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unity中的头发渲染 (Hair Shading)</title>
      <link href="/2017/05/24/20170524-HairScheuermann/"/>
      <url>/2017/05/24/20170524-HairScheuermann/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/hair.jpg" alt></p><h4 id="Scheuermann-的方法"><a href="#Scheuermann-的方法" class="headerlink" title="Scheuermann 的方法"></a>Scheuermann 的方法</h4><p>用Thorsten Scheuermann的方法来做头发：<br>在GDC2004上的幻灯片<a href="http://web.engr.oregonstate.edu/~mjb/cs519/Projects/Papers/HairRendering.pdf" target="_blank" rel="noopener">Hair Rendering and Shading</a>,<br>和<a href="http://amd-dev.wpengine.netdna-cdn.com/wordpress/media/2012/10/Scheuermann_HairSketchSlides.pdf" target="_blank" rel="noopener">Practical Real-Time Hair Rendering and Shading</a></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">inline float3 <span class="title">ShiftTangent</span>(<span class="params">float3 T, float3 N, <span class="keyword">float</span> shift</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">float3 shiftedT = T + shift * N;</span><br><span class="line"><span class="keyword">return</span> normalize(shiftedT);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">inline <span class="keyword">float</span> <span class="title">StrandSpecular</span>(<span class="params">float3 T, float3 V, float3 L, <span class="keyword">float</span> exponent</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">float3 H = normalize(L + V);</span><br><span class="line"><span class="keyword">float</span> dotTH = dot(T, H);</span><br><span class="line"><span class="keyword">float</span> sinTH = sqrt(<span class="number">1.0</span> - dotTH * dotTH);</span><br><span class="line"><span class="keyword">float</span> dirAtten = smoothstep(<span class="number">-1.0</span>, <span class="number">0.0</span>, dot(T, H));</span><br><span class="line"><span class="keyword">return</span> dirAtten * pow(sinTH, exponent);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">inline float3 <span class="title">HairLighting</span>(<span class="params">float3 tangent, float3 normal,</span></span></span><br><span class="line"><span class="function"><span class="params">float3 lightVec, float3 viewVec, <span class="keyword">float</span> spec, <span class="keyword">float</span> specShift, <span class="keyword">float</span> specMask</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// shift tangents</span></span><br><span class="line">half3 T = -normalize(cross(normal, tangent));</span><br><span class="line">   </span><br><span class="line"><span class="keyword">float</span> shiftTex = specShift - <span class="number">0.5</span>;</span><br><span class="line">float3 t1 = ShiftTangent(T, normal, _PrimaryShift + shiftTex);</span><br><span class="line">float3 t2 = ShiftTangent(T, normal, _SecondaryShift + shiftTex);</span><br><span class="line">   </span><br><span class="line"><span class="comment">// specular lighting</span></span><br><span class="line">float3 specular = _SpecColor1 * StrandSpecular(t1, viewVec, lightVec, _SpecMultiplier1);</span><br><span class="line">   </span><br><span class="line"><span class="comment">// add 2nd specular term, modulated with noise texture</span></span><br><span class="line">specular += _SpecColor2 * specMask * StrandSpecular(t2, viewVec, lightVec, _SpecMultiplier2);</span><br><span class="line">   </span><br><span class="line"><span class="keyword">return</span> specular * spec;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这种做法下头发UV需要沿着Shift贴图的方向（一般是上下）来摆放，如果不想必须如此，则可以用守望先锋的做法。</p><h4 id="守望先锋的头发-Overwatch-Hair-Shading"><a href="#守望先锋的头发-Overwatch-Hair-Shading" class="headerlink" title="守望先锋的头发 (Overwatch Hair Shading)"></a>守望先锋的头发 (Overwatch Hair Shading)</h4><p>在这篇<a href="http://polycount.com/discussion/170394/technical-study-overwatch-image-heavy" target="_blank" rel="noopener">Technical Study: Overwatch</a>（关于守望先锋的学习帖）中说道，D.VA 的头发有这样一张”奇怪的贴图”:<br><img src="/img/owhairstrangetex.jpg" alt></p><p>经过试验，这张贴图应该是记录了Tangent的。<br>因为有这张贴图，守望的头发UV就可以随意摆放而不受限制了。</p><p>然而似乎用一个uv1也可以解决……还需要再学习</p>]]></content>
      
      
      
        <tags>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>街霸5技术学习 (Technical Study Street Fighter V)</title>
      <link href="/2017/05/16/20170516-ryu/"/>
      <url>/2017/05/16/20170516-ryu/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/ryu.jpg" alt></p><h4 id="亀井敏征的演讲"><a href="#亀井敏征的演讲" class="headerlink" title="亀井敏征的演讲"></a>亀井敏征的演讲</h4><p>可以说分享的非常详细，非常值得学习的材料。</p><p>原版 <a href="https://cedil.cesa.or.jp/cedil_sessions/view/1540" target="_blank" rel="noopener">[pptx下载地址]</a>（需要注册帐号）<br>整理版 <a href="http://jp.gamesindustry.biz/article/1609/16090703/" target="_blank" rel="noopener">[日文版]</a> <a href="http://www.gameres.com/thread_680883_1_1.html" target="_blank" rel="noopener">[中文版]</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Low Poly物体着色整合 (Low-Poly Objects Colorization &amp; Batching)</title>
      <link href="/2017/04/26/20170426-JJPureColor/"/>
      <url>/2017/04/26/20170426-JJPureColor/</url>
      
        <content type="html"><![CDATA[<h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><p>美术可以直接在Unity中修改物体颜色(开镜头特效等情况下)，修改完毕满意后，输出一张贴图，各物体分别输出FBX</p><p>使用色板(Palette)着色的方式被美术认为不方便后改为直接在物体上着色。但实际上色板模式可能有改进空间。</p><p><img src="/img/PureColorBatcher.jpg" alt></p><a id="more"></a><h3 id="生成贴图-Generate-Texture"><a href="#生成贴图-Generate-Texture" class="headerlink" title="生成贴图 (Generate Texture)"></a>生成贴图 (Generate Texture)</h3><p><img src="/img/20170605173912.jpg" alt></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] _acceptableTexSize = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">7</span>] &#123; <span class="number">32</span>, <span class="number">64</span>, <span class="number">128</span>, <span class="number">256</span>, <span class="number">512</span>, <span class="number">1024</span>, <span class="number">2048</span> &#125;;</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">CalcTexSize</span>(<span class="params"><span class="keyword">int</span> pixelCount</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; _acceptableTexSize.Length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (Mathf.Pow(_acceptableTexSize[i], <span class="number">2</span>) &gt; pixelCount) &#123;</span><br><span class="line">            <span class="keyword">return</span> _acceptableTexSize[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Texture2D <span class="title">GenerateTexture</span>(<span class="params">Color[] colors</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">int</span> texSize = CalcTexSize(colors.Length);</span><br><span class="line">    <span class="keyword">if</span> (texSize &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        Debug.LogError(<span class="string">"颜色（"</span> + colors.Length + <span class="string">"个）太多一张贴图Hold不住了"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Texture2D(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>( texSize == <span class="number">0</span>) &#123;</span><br><span class="line">        Debug.LogError(<span class="string">"木有颜色可以输出（"</span> + colors.Length + <span class="string">"个）"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Texture2D(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    Texture2D tex = <span class="keyword">new</span> Texture2D(texSize, texSize);</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; colors.Length; i++) &#123;</span><br><span class="line">        tex.SetPixel(i % texSize, i / texSize, colors[i]);</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    tex.Apply();</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">return</span> tex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="生成模型-Generate-FBXs"><a href="#生成模型-Generate-FBXs" class="headerlink" title="生成模型 (Generate FBXs)"></a>生成模型 (Generate FBXs)</h3><p><a href="http://u3d.as/ovC" target="_blank" rel="noopener">UnityFBXExporter</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>法线贴图 (Normal Map)</title>
      <link href="/2017/03/24/20170324-normal-map/"/>
      <url>/2017/03/24/20170324-normal-map/</url>
      
        <content type="html"><![CDATA[<h4 id="解包NormalMap-Unpack-NormalMap"><a href="#解包NormalMap-Unpack-NormalMap" class="headerlink" title="解包NormalMap (Unpack NormalMap)"></a>解包NormalMap (Unpack NormalMap)</h4><p><img src="/img/NormalMap.jpg" alt><br>x向量存在a通道，y在g通道。而那种黄色的法线贴图是x在r通道，y在g通道，如果把b加上就会变成常见的蓝紫色Normal。</p><a id="more"></a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//UnityStandardUtils.cginc中的解包方法</span></span><br><span class="line"><span class="function">half3 <span class="title">UnpackScaleNormal</span><span class="params">(half4 packednormal, half bumpScale)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(UNITY_NO_DXT5nm)</span></span><br><span class="line"><span class="keyword">return</span> packednormal.xyz * <span class="number">2</span> - <span class="number">1</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">half3 normal;</span><br><span class="line">normal.xy = (packednormal.wy * <span class="number">2</span> - <span class="number">1</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> (SHADER_TARGET &gt;= 30)</span></span><br><span class="line"><span class="comment">// SM2.0: instruction count limitation</span></span><br><span class="line"><span class="comment">// SM2.0: normal scaler is not supported</span></span><br><span class="line">normal.xy *= bumpScale;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">normal.z = <span class="built_in">sqrt</span>(<span class="number">1.0</span> - saturate(dot(normal.xy, normal.xy)));</span><br><span class="line"><span class="keyword">return</span> normal;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">half3 unpackedNormal = UnpackScaleNormal(tex2D(_BumpMap, i.uv.xy), _Bumpness);</span><br></pre></td></tr></table></figure><h4 id="转换到世界空间去-From-Tangent-Space-to-World-Space"><a href="#转换到世界空间去-From-Tangent-Space-to-World-Space" class="headerlink" title="转换到世界空间去 (From Tangent Space to World Space)"></a>转换到世界空间去 (From Tangent Space to World Space)</h4><p>转换到世界空间需要到对应点在世界的转换矩阵。</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">tangentWorld = normalize(</span><br><span class="line">mul(_Object2World, half4(v.tangent.xyz, <span class="number">0.0</span>)).xyz);</span><br><span class="line">   </span><br><span class="line">normalWorld = normalize(</span><br><span class="line">mul(half4(v.normal, <span class="number">0.0</span>), _World2Object).xyz);</span><br><span class="line">   </span><br><span class="line">bitangentWorld = normalize(</span><br><span class="line">cross(o.normalWorld, o.tangentWorld)</span><br><span class="line">* v.tangent.w);</span><br><span class="line">   </span><br><span class="line">half3x3 local2WorldTranspose = half3x3(</span><br><span class="line">tangentWorld,</span><br><span class="line">bitangentWorld,</span><br><span class="line">normalWorld</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>关于Normal, Tangent和Bitangent（Binormal）的解释：<br><a href="http://www.txutxi.com/?p=316" target="_blank" rel="noopener">Tangent space matrix (TBN)</a><br><a href="https://gamedev.stackexchange.com/a/51402" target="_blank" rel="noopener">What are normal, tangent and binormal vectors and how are they used</a>.</p><p>最后获得世界空间的Normal</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">half3 normalDir = normalize(mul(unpackedNormal, local2WorldTranspose));</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Another Workflow from Phtoshop to Unity</title>
      <link href="/2014/07/31/20140731-PhotoshopUnityPipeline/"/>
      <url>/2014/07/31/20140731-PhotoshopUnityPipeline/</url>
      
        <content type="html"><![CDATA[<p>最近我们需要把一些Photoshop做的2D素材导入Unity。如果用传统方式一张一张的导，然后在Unity里再拼起来的话，会非常费时费力。好在这个过程是可以自动化的。</p><p>一种方法是在Unity端全部解决。SwingSwingSubmarine 的 Ben 写的 From Photoshop to Unity 描述了这种方法，使用了一个第三方的可以处理Photoshop文件的Library：PsdPlugin. 这种方法的问题是项目文件夹下需要保存psd文件，然后psd文件可能比较大，版本控制会有点麻烦。</p><p>Unity官方博客曾经发过一套方法: A good workflow to smoothly import 2D content into Unity, Part I 和 Part II，作者是 Brett Bibby。 这个方法中，输出图片素材由Photoshop完成，导入和重建场景由Unity完成，这不但是一个更自然的方法，也是一个更模块化的方法，谁也不用知道对方领域里的东西。但是原版方法要求事先合成一个图层才能输出。</p><p>所以这篇博客描述一种尽量符合美术工作习惯，能够从原版工作文档直接输出的方法。</p><a id="more"></a><p>Recently we need to transfer a large amount of 2D assets from Photoshop to Unity, then reproduce the positions etc. which is already in Photoshop. It would cost a lot of of time if we do this manually, fortunately we don’t have to, because this process can be automated.</p><p>A recent approach is From Photoshop to Unity written by Ben of SwingSwingSubmarine. It is a pure Unity-side solution where examine Photoshop file (psd) is also completed inside Unity via a third-party library PsdPlugin. Thus the project have to keep large psd files within Unity’s folder and caused some inconvenience for version control.</p><p>Another approach is: A good workflow to smoothly import 2D content into Unity, Part I and Part II by Brett Bibby. The images are exported inside Photoshop via Adobe Extend scripts, their positions are recorded in a xml file, then use a customized Unity Editor script to import these assets. This seems to be the most flexible and robust process. However this script is layer-based which still requires the artist to combine layers before export. </p><p>The process should take place on a ‘working psd’ which doesn’t require the artist to manually change anything before exporting. So here a improved version is described in this blog post.</p><hr><h2 id="流程-The-Process"><a href="#流程-The-Process" class="headerlink" title="流程 The Process"></a>流程 The Process</h2><p>Photoshop文件<br>The Photoshop document to export<br><img src="/img/102920_orig.jpg" alt></p><p>2D素材导入Unity<br>2D Assets imported into Unity, hierarchy is reproduced.<br><img src="/img/1678606_orig.jpg" alt></p><p>导入生成的xml<br>Create a new object in the Hierarchy by importing the xml file exported from Photoshop.<br><img src="/img/5539506_orig.jpg" alt></p><p>导入完成<br>Imported Object in Unity Scene<br><img src="/img/680106_orig.jpg" alt></p><hr><h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><p>Performance:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Do not duplicate the whole doc</span></span><br><span class="line"><span class="comment">// Create an empty doc and copy export content over is much faster</span></span><br><span class="line"><span class="keyword">var</span> doc = app.documents.add(</span><br><span class="line">    _dupDoc.width, </span><br><span class="line">    _dupDoc.height, </span><br><span class="line">    _dupDoc.resolution, </span><br><span class="line">    artLayer.name, </span><br><span class="line">    NewDocumentMode.RGB, </span><br><span class="line">    DocumentFill.TRANSPARENT, </span><br><span class="line">    _dupDoc.pixelAspectRatio, </span><br><span class="line">    _dupDoc.bitsPerChannel, </span><br><span class="line">    <span class="comment">//_dupDoc.colorProfileName</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">app.activeDocument = _dupDoc;</span><br><span class="line">exportLayer.duplicate (doc);</span><br></pre></td></tr></table></figure></p><p>Adobe Photoshop layer bounds:<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CHART - Adobe Photoshop layer bounds:</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// (bounds[0],bounds[1])</span></span><br><span class="line"><span class="comment">//         *--------</span></span><br><span class="line"><span class="comment">//         |       |</span></span><br><span class="line"><span class="comment">//         |       |</span></span><br><span class="line"><span class="comment">//         --------*</span></span><br><span class="line"><span class="comment">//          (bounds[2],bounds[3])</span></span><br><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure></p><p>Adobe Extend Script UI:<br><img src="/img/9918158_orig.jpg" alt></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// decode the file path to make sure it (Chinese) displays correctly</span></span><br><span class="line">pathPanel.pathText.text = <span class="built_in">decodeURI</span>(_options.expFolderPath);</span><br></pre></td></tr></table></figure><p><img src="/img/161473_orig.jpg" alt></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// buttons become useless while the script is running</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">var cancelButton = _proPlet.add("button", undefined, "Cancel");</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">cancelButton.onClick = function () &#123;</span></span><br><span class="line"><span class="comment">    stopExcution();</span></span><br><span class="line"><span class="comment">    _proPlet.close();</span></span><br><span class="line"><span class="comment">    return 'cancel';</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span>      </span><br><span class="line"></span><br><span class="line"><span class="comment">// use the 'x' instead</span></span><br><span class="line">_proPlet.onClose = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    stopExcution();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Extend Script UI is not reliable in Photoshop, call WaitForRedraw() once after palette is shown.</span></span><br><span class="line">WaitForRedraw ();</span><br></pre></td></tr></table></figure><p>XML Encoding:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Use "UNICODE-1-1-UTF-8" for Chinese --&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UNICODE-1-1-UTF-8"?&gt;</span></span><br></pre></td></tr></table></figure></p><p>Unity Deserialize XML:<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">LayersetsObject lo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> (TextReader reader =  File.OpenText(filePath)) </span><br><span class="line">&#123;</span><br><span class="line">    XmlSerializer serializer = <span class="keyword">new</span> XmlSerializer( <span class="keyword">typeof</span>(LayersetsObject) );</span><br><span class="line">    lo = serializer.Deserialize(reader) <span class="keyword">as</span> LayersetsObject;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h2 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h2><p>[1]. <a href="https://blogs.unity3d.com/2013/05/17/a-good-workflow-to-smoothly-import-2d-content-into-unity-part-i-authoring-and-exporting/" target="_blank" rel="noopener">A good workflow to smoothly import 2D content into Unity, Part I</a> and <a href="https://blogs.unity3d.com/2013/05/23/a-good-workflow-to-smoothly-import-2d-content-into-unity-part-ii-importing/" target="_blank" rel="noopener">Part II</a> by <a href="https://blogs.unity3d.com/author/brettb/" target="_blank" rel="noopener">Brett Bibby</a><br>[2]. <a href="http://www.swingswingsubmarine.com/2014/01/23/from-photoshop-to-unity/" target="_blank" rel="noopener">From Photoshop to Unity</a> written by Ben of <a href="http://www.swingswingsubmarine.com/" target="_blank" rel="noopener">SwingSwingSubmarine</a><br>[3]. ExtendScript Toolkit &amp; Adobe Scripting resources on <a href="https://www.adobe.com/devnet/scripting.html" target="_blank" rel="noopener">Adobe Scripting Center</a><br>[4]. <a href="http://www.ps-scripts.com/" target="_blank" rel="noopener">Independent Photoshop Scripting Community</a><br>[5]. <a href="http://www.ps-bridge-scripts.talktalk.net/" target="_blank" rel="noopener">Paul Riggott</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Unity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mobile Terrain Shader with Multi-UV Mixing</title>
      <link href="/2014/01/21/20140121-MultiUVMixing/"/>
      <url>/2014/01/21/20140121-MultiUVMixing/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/20180606171511.jpg" alt></p><p>Recently when trying to make a Unity terrain I found it cost dozens of drawcalls, definitely no go for mobile platform. So I wrote a shader that can do multi-texture tilling on a single mesh, as well as Multi-UV Mixing, credit goes to this post by larsbertram1. you can find the shader file at the bottom of this post.</p><p>Multi-UV Mixing, in plain words, is to scale the texture and mix back onto itself, it is a low-cost method to reduce apparent tilling.</p><hr><p>[1]. <a href="https://api.unrealengine.com/udk/Three/TerrainAdvancedTextures.html#Multi-UV%20Mixing:%20Reducing%20tiling%20through%20scalar%20mixing" target="_blank" rel="noopener">Terrain Advanced Textures (Unreal)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Graphics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Camera Mapping (相机映射)</title>
      <link href="/2013/11/29/20131129-CameraMapping/"/>
      <url>/2013/11/29/20131129-CameraMapping/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/7562218_orig.jpg" alt></p><a id="more"></a><p>The environment in the Character Customization Scene of TWD is not 3D, it is just only one image (above) pre-rendered by Blender.</p><p>But when we put an actual 3D character in Unity, we what it looks as she/he is standing in the 3D movie studio. How? We do Camera Mapping.</p><p>First, create a new Camera in Unity and copy the position and rotation of the Blender camera. We can do this because: Blender’s unit  =  Unity’s unit  =  1 meter.<br>Careful about the rotation though, Blenders’ up is Z while in Unity it’s Y.</p><p><img src="/img/20180606163955.jpg" alt></p><p>Now for the field of view, we can’t use the same field of view on both camera. You may noticed I used 16mm focal length (that’s 90° FOV on 32mm full frame format sensor) for the Blender camera, but clearly 90° doesn’t match. So export part of the studio, import them into Unity and put them where they were, then drag the “Field of View” slider in Unity’s camera inspector until the objects match the background image, as shown below.</p><p><img src="/img/20180606164244.jpg" alt></p><p>And that is it. Now wherever we put a 3D object in the scene (as long as it’s position.y == 0), it will looks like on the ground of that movie studio.</p><p><img src="/img/296966138_orig.jpg" alt></p><p>PS: one last thing, Photoshop’s “Filter -&gt; Blur -&gt; Iris Blur” was used for the background image.</p><p><img src="/img/3140975_orig.jpg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Unity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Basic Character Customization Tutorial (基础角色定制教程)</title>
      <link href="/2013/07/11/20130711-CharacterCustomization/"/>
      <url>/2013/07/11/20130711-CharacterCustomization/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/296966138_orig.jpg" alt></p><a id="more"></a><p>昨儿做UI的时候想起来，之前搞角色定制找资料挺费劲的，很多东西都不知道啥是啥。Unity的例子帮了大忙，但还是会有  “啥玩意儿啊”， 这种感觉。所以想着把自己的经验在这分享一下。</p><p>代码在最下面。</p><p>Yesterday I rearranged UI of character customization scene of the under-developing-but-open-for-testing game <the working dead>. </the></p><p>And I remembered that, back to a few month ago it was a hard time for me to get information about how to achieve Character Customization. Unity’s example, and the community helped a lot. But I still spent hours to figure out what is what.</p><p>So I think I should share my experience here. Hope this can help others who were like me. You can download the source file at the bottom of this post.</p><hr><h2 id="Prepare-Assets"><a href="#Prepare-Assets" class="headerlink" title="Prepare Assets"></a>Prepare Assets</h2><p><img src="/img/5800212_orig.jpg" alt></p><p>俺的模型啥的是用Blender做的。直接用 Unity的例子 的模型也行，都一样。</p><p>Before we start, I’ve created these assets in Blender. You can create your own, or simply use assets from Unity’s example, the fundamentals are same.</p><hr><h2 id="Customize-the-Character"><a href="#Customize-the-Character" class="headerlink" title="Customize the Character"></a>Customize the Character</h2><p>我把所有部件的Prefab都链到Designer里了，然后用个byte数组表示配置。配置里的每个数字代表一个部件。</p><p>I linked all my assets in to a GameObject, used a byte[] to specify which parts the player have chosen (called ‘config’).</p><p>Now just set up the UI and let the player customize his/her character.</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> SkinnedMeshRenderer[] skins;</span><br><span class="line"><span class="keyword">public</span> SkinnedMeshRenderer[] hairs;</span><br><span class="line"><span class="keyword">public</span> SkinnedMeshRenderer[] eyebrows;</span><br><span class="line"><span class="keyword">public</span> SkinnedMeshRenderer[] eyes;</span><br><span class="line"><span class="keyword">public</span> SkinnedMeshRenderer[] mouths;</span><br><span class="line"><span class="keyword">public</span> SkinnedMeshRenderer[] clothes;</span><br><span class="line"><span class="keyword">public</span> SkinnedMeshRenderer[] pants;</span><br><span class="line"><span class="keyword">private</span> SkinnedMeshRenderer[][] elements;</span><br><span class="line"></span><br><span class="line"><span class="comment">// character configuration array, </span></span><br><span class="line"><span class="comment">// [0 skin,1 hairs, 2 eyebrow, 3 eye, 4 mouth, 5 cloth, 6 pants, 7 accessories]</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">byte</span>[] config; <span class="comment">// = new byte[]&#123;0, 0, 0, 0, 0, 0, 0&#125;;</span></span><br><span class="line"><span class="function"><span class="keyword">byte</span>[] <span class="title">GetCurrentConfig</span>(<span class="params"></span>)</span> &#123; <span class="keyword">return</span> config; &#125;</span><br></pre></td></tr></table></figure><hr><h2 id="Combine-SkinnedMeshRenderers"><a href="#Combine-SkinnedMeshRenderers" class="headerlink" title="Combine SkinnedMeshRenderers"></a>Combine <a href="https://docs.unity3d.com/ScriptReference/SkinnedMeshRenderer.html" target="_blank" rel="noopener">SkinnedMeshRenderers</a></h2><blockquote><p>“You should use only a single skinned mesh renderer for each character. Unity optimizes animation using visibility culling and bounding volume updates and these optimizations are only activated if you use one animation component and one skinned mesh renderer in conjunction……”<br>—— <a href="https://docs.unity3d.com/Manual/ModelingOptimizedCharacters.html" target="_blank" rel="noopener">Unity Official Doc - Modeling Characters for Optimal Performance</a></p></blockquote><p><img src="/img/20180606164120.jpg" alt></p><p>SkinnedMesh 就是关联骨骼的mesh，哪个vertex受哪根骨头影响百分之多少，然后骨头一动皮也就跟着动了。每一个部件都是一个SkinnedMesh，但是这东西很费，很影响性能，所以越少越好。一般一个角色内的SkinnedMesh要把它们合起来。</p><p>骨头：在Unity里就是Transform</p><p>Skinned Meshes are meshes linked with ‘Bones’, Each bone is associated with some vertices of the mesh (with different weights). During animation, the skinned mesh is deformed ( I’ve read somewhere that new mesh are generated for each frame, heavy, so heavy ).</p><p>So in short, skinned meshes kill performance, and we definitely want less of them in the scene if possible.<br>Yes, we should combine them.</p><p>In case you are wondering what are Bones, they are just Transforms in Unity.</p><p><img src="/img/20180606163138.jpg" alt></p><p>用下面的代码，根据之前玩家选择的配置，把各个部件粘起来。</p><p>In the last Section, we have a byte[] config chosen by the player, now we are going to build a character with single mesh using this config, </p><p>and here is the function to do this:</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// go is a root GameObject, in my case, I used 'PH.base' shown in the up-right image, it has Bones</span></span><br><span class="line"></span><br><span class="line"><span class="function">GameObject <span class="title">GenerateWithConfig</span> (<span class="params">GameObject go, <span class="keyword">byte</span>[] config</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!go.GetComponent&lt;SkinnedMeshRenderer&gt;()) &#123; go.AddComponent&lt;SkinnedMeshRenderer&gt;(); &#125;</span><br><span class="line">    SkinnedMeshRenderer smr = go.GetComponent&lt;SkinnedMeshRenderer&gt;();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// CombineInstance Struct used to describe meshes to be combined using Mesh.CombineMeshes.</span></span><br><span class="line">    List&lt;CombineInstance&gt; combineInstances = <span class="keyword">new</span> List&lt;CombineInstance&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// We must put all materials used by all renderers into the final combined renderer,</span></span><br><span class="line">    <span class="comment">// I combined all the textures into in big texture, in order to have only one material</span></span><br><span class="line">    materialList = <span class="keyword">new</span> List&lt;Material&gt;();</span><br><span class="line">    materialList.Add(smr.material);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Same, boneWeights should be copied into the final SkinnedMesh</span></span><br><span class="line">    boneWeightsList = <span class="keyword">new</span> List&lt;BoneWeight&gt;();</span><br><span class="line">    Transform[] bones = smr.bones;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Now for each SkinnedMeshRenderer specified by config</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; config.Length; i++ )</span><br><span class="line">    &#123;</span><br><span class="line">        SkinnedMeshRenderer smr1 = (SkinnedMeshRenderer)Object.Instantiate( elements[ i ][ config[i] ] );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Add meshes to combineinstances</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> sub = <span class="number">0</span>; sub &lt; smr1.sharedMesh.subMeshCount; sub++)  &#123;</span><br><span class="line">            CombineInstance ci = <span class="keyword">new</span> CombineInstance();</span><br><span class="line">            ci.mesh = smr1.sharedMesh;</span><br><span class="line">            ci.transform = smr1.transform.localToWorldMatrix;</span><br><span class="line">            ci.subMeshIndex = sub;</span><br><span class="line">            combineInstances.Add(ci);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">foreach</span> (Material mat <span class="keyword">in</span> materialList) &#123;</span><br><span class="line">                <span class="keyword">if</span> (mat.name != smr1.material.name) &#123;</span><br><span class="line">                    materialList.Add(smr1.material);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;   </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        boneWeightsList.AddRange(smr1.sharedMesh.boneWeights);</span><br><span class="line"></span><br><span class="line">        Object.Destroy(smr1.gameObject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Combine meshes</span></span><br><span class="line">    smr.sharedMesh = <span class="keyword">new</span> Mesh();</span><br><span class="line">    smr.sharedMesh.CombineMeshes(combineInstances.ToArray(), <span class="literal">true</span>, <span class="literal">false</span>);</span><br><span class="line">    smr.sharedMesh.boneWeights = boneWeightsList.ToArray();</span><br><span class="line">    <span class="comment">// Combine meshes</span></span><br><span class="line">    smr.bones = bones;</span><br><span class="line">    smr.materials = materialList.ToArray();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update bindposes</span></span><br><span class="line">    <span class="comment">// " The bind pose is the pose that the skeleton is in when you bind skin. </span></span><br><span class="line">    <span class="comment">// When you pose a character’s skeleton after skinning, the skeleton’s actions cause deformations</span></span><br><span class="line">    <span class="comment">//  to the skin. The only pose that does not cause deformations to the skin is the bind pose. "</span></span><br><span class="line">    <span class="comment">// [Source: Maya User Guide] </span></span><br><span class="line"></span><br><span class="line">    List&lt;Matrix4x4&gt; bindposes = <span class="keyword">new</span> List&lt;Matrix4x4&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; bones.Length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        bindposes.Add(bones[i].worldToLocalMatrix * transform.localToWorldMatrix);</span><br><span class="line">    &#125;</span><br><span class="line">    smr.sharedMesh.bindposes = bindposes.ToArray();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// This is for Blender exported fbx, not sure how other program should rotate</span></span><br><span class="line">    go.transform.Rotate(Vector3.right, <span class="number">-90</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (Optional)</span></span><br><span class="line">    go.GetComponent&lt;Animation&gt;().Play();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// DONE, this GameObject have the combined SkinnedMeshRenderer</span></span><br><span class="line">    <span class="keyword">return</span> go;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>搞定！</p><p>代码在下面：</p><p>That is it!</p><p>Download the source code below:</p><p><a href="/img/phcharacterdesigner.cs">phcharacterdesigner.cs</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Game Dev </tag>
            
            <tag> Unity </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
